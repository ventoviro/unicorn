System.register([],(function(t,e){var r;function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}return{setters:[],execute:function(){r={selector:".btn-group .radio",buttonClass:"btn",activeClass:"active",color:{default:"btn-default btn-outline-secondary",green:"btn-success",red:"btn-danger",blue:"btn-primary"}},t("ButtonRadio",function(){function t(e,a){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"wrapper",null),o(this,"radios",[]),o(this,"inputs",[]),o(this,"buttons",[]),o(this,"colors",[]),this.element=u.selectOne(e),this.options=a=u.defaultsDeep({},a,r);var l=null;l=null!=this.element.dataset.fieldInput?this.element:this.element.querySelector("[data-field-input]"),this.wrapper=l;var i=l.querySelector(".btn-group"),c=null!=i;i||(i=u.h("div",{class:"btn-group"})),this.radios=l.querySelectorAll(".radio"),this.radios.forEach((function(t){var e=s.prepareButton(t,c);c||i.appendChild(e)})),this.syncState(),l.insertBefore(i,l.firstChild),l.dispatchEvent(new Event("button-radio.loaded")),this.colors=n(new Set(this.colors))}var e,a,l;return e=t,a=[{key:"prepareButton",value:function(t){var e,r=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.options,o=t.querySelector("input"),l=t.querySelector("label"),i=null;a?(e=(i=this.wrapper.querySelector('[data-for="'.concat(o.id,'"]'))).classList).add.apply(e,n(this.parseClasses("".concat(s.buttonClass," ").concat(s.color.default)))):i=u.h("button",{type:"button",class:"".concat(s.buttonClass," ").concat(s.color.default),"data-value":o.value},"<span>".concat(l.innerHTML,"</span>")),u.$helper.set(i,"__unicorn.input",o),this.inputs.push(o),this.buttons.push(i),t.style.display="none";var c=o.dataset.colorClass;if(null==c){switch(o.value){case"":c=s.color.blue;break;case"0":c=s.color.red;break;default:c=s.color.green}o.dataset.colorClass=c}return this.colors.push(c),(o.disabled||null!=o.getAttribute("readonly"))&&(i.classList.add("disabled"),i.disabled=!0),null!=o.getAttribute("readonly")&&i.classList.add("readonly"),i.addEventListener("click",(function(){o.getAttribute("disabled")||o.getAttribute("readonly")||!o.checked&&(r.inputs.forEach((function(t){t.checked=!1})),o.checked=!0,r.syncState(),o.dispatchEvent(new Event("change")),o.dispatchEvent(new Event("input")))})),i}},{key:"syncState",value:function(){var t=this,e=this.options;this.buttons.forEach((function(r){var a,s,o,l,i,c,d=u.$helper.get(r,"__unicorn.input");(a=r.classList).add.apply(a,n(t.parseClasses(e.color.default))),(s=r.classList).remove.apply(s,n(t.parseClasses(e.activeClass))),(o=r.classList).remove.apply(o,n(t.parseClasses.apply(t,n(t.colors)))),d.checked&&((l=r.classList).add.apply(l,n(t.parseClasses(e.activeClass))),(i=r.classList).add.apply(i,n(t.parseClasses(d.dataset.colorClass))),(c=r.classList).remove.apply(c,n(t.parseClasses(e.color.default))))}))}},{key:"parseClasses",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(e=e.join(" ")).split(" ").filter((function(t){return""!==t}))}}],l=[{key:"handle",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.getBoundedInstance(t,"button-radio",(function(t){return new e(t,r)}))}}],a&&s(e.prototype,a),l&&s(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}())}}}));
//# sourceMappingURL=button-radio.js.map
