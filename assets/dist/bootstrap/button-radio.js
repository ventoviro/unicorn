System.register([],(function(e,t){"use strict";var s,a;t&&t.id;return{setters:[],execute:function(){s=window.u,a={selector:".btn-group .radio",buttonClass:"btn",activeClass:"active",color:{default:"btn-default btn-outline-secondary",green:"btn-success",red:"btn-danger",blue:"btn-primary"}},e("ButtonRadio",class{static handle(e,t={}){return s.getBoundedInstance(e,"button-radio",(e=>new this(e,t)))}constructor(e,t={}){let r;Object.defineProperty(this,"wrapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"radios",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"buttons",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"colors",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this.element=s.selectOne(e),this.options=t=s.defaultsDeep({},t,a),r=null!=this.element.dataset.fieldInput?this.element:this.element.querySelector("[data-field-input]"),this.wrapper=r;let l=r.querySelector(".btn-group");const i=null!=l;l||(l=s.h("div",{class:"btn-group"})),this.radios=s.selectAll(r.querySelectorAll(".radio")),this.radios.forEach((e=>{const t=this.prepareButton(e,i);i||l.appendChild(t)})),this.syncState(),r.insertBefore(l,r.firstChild),r.dispatchEvent(new Event("button-radio.loaded")),this.colors=[...new Set(this.colors)]}prepareButton(e,t=!1){const a=this.options,r=e.querySelector("input"),l=e.querySelector("label");let i;t?(i=this.wrapper.querySelector(`[data-for="${r.id}"]`),i.classList.add(...this.parseClasses(`${a.buttonClass} ${a.color.default}`))):i=s.h("button",{type:"button",class:`${a.buttonClass} ${a.color.default}`,"data-value":r.value},`<span>${l.innerHTML}</span>`),s.$helper.set(i,"__unicorn.input",r),this.inputs.push(r),this.buttons.push(i),e.style.display="none";let n=r.dataset.colorClass||"";if(null==n){switch(r.value){case"":n=a.color.blue;break;case"0":n=a.color.red;break;default:n=a.color.green}r.dataset.colorClass=n}return this.colors.push(n),(r.disabled||null!=r.getAttribute("readonly"))&&(i.classList.add("disabled"),i.disabled=!0),null!=r.getAttribute("readonly")&&i.classList.add("readonly"),i.addEventListener("click",(()=>{if(r.getAttribute("disabled")||r.getAttribute("readonly"))return;!r.checked&&(this.inputs.forEach((e=>{e.checked=!1})),r.checked=!0,r.dispatchEvent(new Event("change")),r.dispatchEvent(new Event("input")))})),r.addEventListener("change",(()=>{this.syncState()})),i}syncState(){const e=this.options;this.buttons.forEach((t=>{const a=s.$helper.get(t,"__unicorn.input");t.classList.add(...this.parseClasses(e.color.default)),t.classList.remove(...this.parseClasses(e.activeClass)),t.classList.remove(...this.parseClasses(...this.colors)),a.checked&&(t.classList.add(...this.parseClasses(e.activeClass)),t.classList.add(...this.parseClasses(a.dataset.colorClass)),t.classList.remove(...this.parseClasses(e.color.default)))}))}parseClasses(...e){return e.join(" ").split(" ").filter((e=>""!==e))}})}}}));