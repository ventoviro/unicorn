{"version":3,"sources":["bootstrap/button-radio.js"],"names":["defaultOptions","selector","buttonClass","activeClass","color","green","red","blue","ButtonRadio","options","Error","element","u","selectOne","defaultsDeep","colors","$radios","querySelectorAll","selectAll","$radio","classList","add","on","e","$btn","$","currentTarget","$group","parent","find","$input","prop","addClass","removeClass","attr","dispatchEvent","Event","each","$label","$text","text","hide","prepend","val","push","trigger","unique"],"mappings":"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","sourcesContent":["/**\n * Part of unicorn project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nconst defaultOptions = {\n  selector: '.btn-group .radio',\n  buttonClass: 'btn',\n  activeClass: 'active',\n  color: {\n    'default': 'btn-default btn-outline-secondary',\n    green: 'btn-success',\n    red: 'btn-danger',\n    blue: 'btn-primary'\n  }\n};\n\nexport class ButtonRadio {\n  constructor(selector, options) {\n    throw new Error('ButtonRadio Work in process');\n\n    this.element = u.selectOne(selector);\n    this.options = u.defaultsDeep({}, options, defaultOptions);\n    let colors = [];\n\n    // Turn radios into btn-group\n    const $radios = this.element.querySelectorAll(this.options.selector);\n\n    options = this.options;\n\n    u.selectAll($radios, ($radio) => {\n      $radio.classList.add(options.buttonClass);\n      $radio.classList.add(options.color['default']);\n    });\n\n    $radios.on('click', e => {\n      const $btn = $(e.currentTarget);\n      const $group = $btn.parent().find('.' + options.buttonClass);\n      const $input = $btn.find('input[type=radio]');\n\n      if ($input.prop('disabled') || $input.prop('readonly')) {\n        return;\n      }\n\n      if (!$input.prop('checked')) {\n        $group\n          .addClass(options.color.default)\n          .removeClass(options.activeClass)\n          .removeClass(colors);\n\n        $btn.addClass(options.activeClass).addClass($input.attr('data-color-class')).removeClass(options.color.default);\n\n        $input.prop('checked', true);\n        $input[0].dispatchEvent(new Event('change'));\n      }\n    });\n\n    $radios.each(function () {\n      const $radio = $(this);\n      const $input = $radio.find('input');\n      const $label = $radio.find('label');\n      const $text = $('<span>' + $label.text() + '</span>');\n\n      $label.hide();\n      $input.hide();\n      $radio.prepend($text);\n      $radio.removeClass('radio');\n\n      // Prepare color schema\n      let color = $input.attr('data-color-class');\n\n      if (color == null) {\n        switch ($input.val()) {\n          case '':\n            color = options.color.blue;\n            break;\n\n          case '0':\n            color = options.color.red;\n            break;\n\n          default:\n            color = options.color.green;\n            break;\n        }\n\n        $input.attr('data-color-class', color);\n      }\n\n      colors.push(color);\n\n      if ($input.prop('checked')) {\n        $radio.removeClass(options.color.default).addClass(options.activeClass).addClass(color);\n      }\n\n      if ($input.prop('disabled')) {\n        $radio.addClass('disabled');\n      }\n\n      if ($input.prop('readonly')) {\n        $radio.addClass('readonly');\n      }\n    });\n\n    $radios.parent().trigger('button-radio.loaded');\n\n    // Make color elements unique\n    colors = $.unique(colors);\n  }\n}\n"],"file":"button-radio.js"}