!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return(()=>{"use strict";var e={895:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(221),o=n.n(r),i=n(758),a=n.n(i)()(o());a.push([e.id,".c-file-drag-input{position:relative;display:inline-block;width:100%;min-height:100px;cursor:pointer}.c-file-drag-input input{position:relative;z-index:2;width:100%;margin:0;overflow:hidden;opacity:0;height:100%;cursor:pointer}.c-file-drag-input input.hover+label{border-color:#333}.c-file-drag-input__label{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;padding:.375rem .75rem;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem;height:100%;text-align:center;display:flex;align-items:center;transition:border-color .3s;cursor:pointer}.c-file-drag-input__label>span{display:inline-block;width:100%}.c-file-drag-input label::after{content:none !important}\n","",{version:3,sources:["webpack://./scss/field/file-drag.scss"],names:[],mappings:"AAEA,mBACE,iBAAkB,CAClB,oBAAqB,CACrB,UAAW,CACX,gBAAiB,CACjB,cAAe,CALjB,yBAQI,iBAAkB,CAClB,SAAU,CACV,UAAW,CACX,QAAS,CACT,eAAgB,CAChB,SAAU,CACV,WAAY,CACZ,cAAe,CAfnB,qCAkBM,iBAAkB,CACnB,0BAID,iBAAkB,CAClB,KAAM,CACN,QAAS,CACT,MAAO,CACP,OAAQ,CACR,SAAU,CACV,sBAAuB,CACvB,aAAc,CACd,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,WAAY,CACZ,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACnB,2BAA4B,CAC5B,cAAe,CAjBhB,+BAoBG,oBAAqB,CACrB,UAAW,CA3CjB,gCAgDI,uBAAwB",sourcesContent:["// Part of earth file.\n\n.c-file-drag-input {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  min-height: 100px;\n  cursor: pointer;\n\n  input {\n    position: relative;\n    z-index: 2;\n    width: 100%;\n    margin: 0;\n    overflow: hidden;\n    opacity: 0;\n    height: 100%;\n    cursor: pointer;\n\n    &.hover + label {\n      border-color: #333;\n    }\n  }\n\n  &__label {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 1;\n    padding: .375rem .75rem;\n    color: #495057;\n    background-color: #fff;\n    border: 1px solid #ced4da;\n    border-radius: .25rem;\n    height: 100%;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    transition: border-color .3s;\n    cursor: pointer;\n\n    > span {\n      display: inline-block;\n      width: 100%;\n    }\n  }\n\n  label::after {\n    content: none !important;\n  }\n}\n"],sourceRoot:""}]);const c=a},758:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},221:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},278:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],o=0;o<e.length;o++){var c=e[o],l=t.base?c[0]+t.base:c[0],u=n[l]||0,s="".concat(l," ").concat(u);n[l]=u+1;var f=a(s),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:v(p,t),references:1}),r.push(s)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,s=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function v(e,t){var n,r,o;if(t.singleton){var i=h++;n=d||(d=l(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=l(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);i[o].references--}for(var l=c(e,t),u=0;u<n.length;u++){var s=a(n[u]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=l}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r);var e=n(278),t=n.n(e),o=n(895);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},s(e)}function f(e,t,n){return f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o},f.apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}t()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var v,y,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,n,r,o,i=(t=s,n=p(),function(){var e,r=h(t);if(n){var o=h(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return l(this,e)});function s(){return a(this,s),i.apply(this,arguments)}return r=s,o=[{key:"inputSelector",get:function(){return this.getAttribute("selector")||"input[type=file]"}},{key:"multiple",get:function(){return this.element.multiple}},{key:"connectedCallback",value:function(){this.element=this.querySelector(this.inputSelector),this.overlayLabel=this.querySelector("[data-overlay-label]"),this.options=JSON.parse(this.getAttribute("options")||"{}"),this.bindEvent(),this.style.visibility="",this.style.height=(this.options.height||100)+"px"}},{key:"bindEvent",value:function(){var e=this;this.element.addEventListener("change",(function(t){e.onChange(t)})),this.element.addEventListener("dragover",(function(){e.element.classList.add("hover")})),this.element.addEventListener("dragleave",(function(){e.element.classList.remove("hover")})),this.element.addEventListener("drop",(function(){e.element.classList.remove("hover")})),this.onChange(),this.element.addEventListener("change",(function(t){e.onChange(t)})),this.element.addEventListener("input",(function(t){e.onChange(t)}))}},{key:"onChange",value:function(e){var t,n=this,r=this.element.files,o=this.options.maxFiles,i=this.options.maxSize,a=this.options.placeholder,c=(this.element.getAttribute("accept")||this.element.getAttribute("data-accepted")||"").split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return-1===e.indexOf("/")&&"."===e[0]?e.substr(1):e}));if(a||(a=this.multiple?u.__("unicorn.field.file.drag.placeholder.multiple"):u.__("unicorn.field.file.drag.placeholder.single")),o&&r.length>o)return this.alert(u.__("unicorn.field.file.drag.message.max.files",o),"","warning"),void e.preventDefault();var l=0;if(Array.prototype.forEach.call(r,(function(e){n.checkFileType(c,e),l+=e.size})),i&&l/1024/1024>i)return this.alert(u.__("unicorn.field.file.drag.message.max.size",i<1?1024*i+"KB":i+"MB"),"","warning"),void e.preventDefault();t=r.length>1?'<span class="fa fa-files fa-copy"></span> '.concat(u.__("unicorn.field.file.drag.selected",r.length)):1===r.length?'<span class="fa fa-file"></span> '.concat(r[0].name):'<span class="fa fa-upload"></span> '.concat(a),this.overlayLabel.querySelector("span").innerHTML=t}},{key:"checkFileType",value:function(e,t){var n=this,r=t.name.split(".").pop();if(e.length){var o=!1;if(e.forEach((function(e){o||(-1!==e.indexOf("/")?n.compareMimeType(e,t.type)&&(o=!0):e===r&&(o=!0))})),!o)throw this.alert(u.__("unicorn.field.file.drag.message.unaccepted.files"),u.__("unicorn.field.file.drag.message.unaccepted.files.desc",e.join(", ")),"warning"),new Error("Not accepted file ext")}}},{key:"compareMimeType",value:function(e,t){var n=e.split("/"),r=t.split("/");return"*"===n[1]?n[0]===r[0]:e===t}},{key:"alert",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";window.swal?window.swal(e,t,n):(t&&(e+=" - "+t),alert(e))}))}],o&&c(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(s(HTMLElement));y="uni-file-drag","is"in(v=A)?Object.defineProperty(v,"is",{value:y,enumerable:!0,configurable:!0,writable:!0}):v.is=y,u.defineCustomElement(A.is,A)})(),r})()}));
//# sourceMappingURL=file-drag.js.map