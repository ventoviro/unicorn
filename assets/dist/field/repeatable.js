(()=>{"use strict";const t=function(t,e){return t===e||t!=t&&e!=e},e=function(e,r){for(var n=e.length;n--;)if(t(e[n][0],r))return n;return-1};var r=Array.prototype.splice;function n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}n.prototype.clear=function(){this.__data__=[],this.size=0},n.prototype.delete=function(t){var n=this.__data__,o=e(n,t);return!(o<0||(o==n.length-1?n.pop():r.call(n,o,1),--this.size,0))},n.prototype.get=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]},n.prototype.has=function(t){return e(this.__data__,t)>-1},n.prototype.set=function(t,r){var n=this.__data__,o=e(n,t);return o<0?(++this.size,n.push([t,r])):n[o][1]=r,this};const o=n,a="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const i=a||c||Function("return this")(),s=i.Symbol;var f=Object.prototype,l=f.hasOwnProperty,p=f.toString,b=s?s.toStringTag:void 0;var y=Object.prototype.toString;var h=s?s.toStringTag:void 0;const d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,b),r=t[b];try{t[b]=void 0;var n=!0}catch(t){}var o=p.call(t);return n&&(e?t[b]=r:delete t[b]),o}(t):function(t){return y.call(t)}(t)},v=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},j=function(t){if(!v(t))return!1;var e=d(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},_=i["__core-js_shared__"];var m,g=(m=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"";var A=Function.prototype.toString;const O=function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var w=/^\[object .+?Constructor\]$/,x=Function.prototype,I=Object.prototype,E=x.toString,z=I.hasOwnProperty,P=RegExp("^"+E.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const F=function(t){return!(!v(t)||(e=t,g&&g in e))&&(j(t)?P:w).test(O(t));var e},U=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return F(r)?r:void 0},k=U(i,"Map"),D=U(Object,"create");var M=Object.prototype.hasOwnProperty;var $=Object.prototype.hasOwnProperty;function B(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}B.prototype.clear=function(){this.__data__=D?D(null):{},this.size=0},B.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},B.prototype.get=function(t){var e=this.__data__;if(D){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return M.call(e,t)?e[t]:void 0},B.prototype.has=function(t){var e=this.__data__;return D?void 0!==e[t]:$.call(e,t)},B.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=D&&void 0===e?"__lodash_hash_undefined__":e,this};const T=B,N=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function R(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}R.prototype.clear=function(){this.size=0,this.__data__={hash:new T,map:new(k||o),string:new T}},R.prototype.delete=function(t){var e=N(this,t).delete(t);return this.size-=e?1:0,e},R.prototype.get=function(t){return N(this,t).get(t)},R.prototype.has=function(t){return N(this,t).has(t)},R.prototype.set=function(t,e){var r=N(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const V=R;function C(t){var e=this.__data__=new o(t);this.size=e.size}C.prototype.clear=function(){this.__data__=new o,this.size=0},C.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},C.prototype.get=function(t){return this.__data__.get(t)},C.prototype.has=function(t){return this.__data__.has(t)},C.prototype.set=function(t,e){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!k||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new V(n)}return r.set(t,e),this.size=r.size,this};const L=C,q=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),W=function(t,e,r){"__proto__"==e&&q?q(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var K=Object.prototype.hasOwnProperty;const G=function(e,r,n){var o=e[r];K.call(e,r)&&t(o,n)&&(void 0!==n||r in e)||W(e,r,n)},H=function(t,e,r,n){var o=!r;r||(r={});for(var a=-1,c=e.length;++a<c;){var i=e[a],u=n?n(r[i],t[i],i,r,t):void 0;void 0===u&&(u=t[i]),o?W(r,i,u):G(r,i,u)}return r},J=function(t){return null!=t&&"object"==typeof t},Q=function(t){return J(t)&&"[object Arguments]"==d(t)};var X=Object.prototype,Y=X.hasOwnProperty,Z=X.propertyIsEnumerable;const tt=Q(function(){return arguments}())?Q:function(t){return J(t)&&Y.call(t,"callee")&&!Z.call(t,"callee")},et=Array.isArray;var rt="object"==typeof exports&&exports&&!exports.nodeType&&exports,nt=rt&&"object"==typeof module&&module&&!module.nodeType&&module,ot=nt&&nt.exports===rt?i.Buffer:void 0;const at=(ot?ot.isBuffer:void 0)||function(){return!1};var ct=/^(?:0|[1-9]\d*)$/;const it=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ct.test(t))&&t>-1&&t%1==0&&t<e},ut=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;const ft=function(t){return function(e){return t(e)}};var lt="object"==typeof exports&&exports&&!exports.nodeType&&exports,pt=lt&&"object"==typeof module&&module&&!module.nodeType&&module,bt=pt&&pt.exports===lt&&a.process;const yt=function(){try{return pt&&pt.require&&pt.require("util").types||bt&&bt.binding&&bt.binding("util")}catch(t){}}();var ht=yt&&yt.isTypedArray;const dt=ht?ft(ht):function(t){return J(t)&&ut(t.length)&&!!st[d(t)]};var vt=Object.prototype.hasOwnProperty;const jt=function(t,e){var r=et(t),n=!r&&tt(t),o=!r&&!n&&at(t),a=!r&&!n&&!o&&dt(t),c=r||n||o||a,i=c?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=i.length;for(var s in t)!e&&!vt.call(t,s)||c&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||it(s,u))||i.push(s);return i};var _t=Object.prototype;const mt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_t)},gt=function(t,e){return function(r){return t(e(r))}},At=gt(Object.keys,Object);var Ot=Object.prototype.hasOwnProperty;const wt=function(t){return null!=t&&ut(t.length)&&!j(t)},St=function(t){return wt(t)?jt(t):function(t){if(!mt(t))return At(t);var e=[];for(var r in Object(t))Ot.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var xt=Object.prototype.hasOwnProperty;const It=function(t){if(!v(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=mt(t),r=[];for(var n in t)("constructor"!=n||!e&&xt.call(t,n))&&r.push(n);return r},Et=function(t){return wt(t)?jt(t,!0):It(t)};var zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pt=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=Pt&&Pt.exports===zt?i.Buffer:void 0,Ut=Ft?Ft.allocUnsafe:void 0;const kt=function(){return[]};var Dt=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols;const $t=Mt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var c=t[r];e(c,r,t)&&(a[o++]=c)}return a}(Mt(t),(function(e){return Dt.call(t,e)})))}:kt,Bt=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Tt=gt(Object.getPrototypeOf,Object),Nt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Bt(e,$t(t)),t=Tt(t);return e}:kt,Rt=function(t,e,r){var n=e(t);return et(t)?n:Bt(n,r(t))},Vt=function(t){return Rt(t,St,$t)},Ct=function(t){return Rt(t,Et,Nt)},Lt=U(i,"DataView"),qt=U(i,"Promise"),Wt=U(i,"Set"),Kt=U(i,"WeakMap");var Gt="[object Map]",Ht="[object Promise]",Jt="[object Set]",Qt="[object WeakMap]",Xt="[object DataView]",Yt=O(Lt),Zt=O(k),te=O(qt),ee=O(Wt),re=O(Kt),ne=d;(Lt&&ne(new Lt(new ArrayBuffer(1)))!=Xt||k&&ne(new k)!=Gt||qt&&ne(qt.resolve())!=Ht||Wt&&ne(new Wt)!=Jt||Kt&&ne(new Kt)!=Qt)&&(ne=function(t){var e=d(t),r="[object Object]"==e?t.constructor:void 0,n=r?O(r):"";if(n)switch(n){case Yt:return Xt;case Zt:return Gt;case te:return Ht;case ee:return Jt;case re:return Qt}return e});const oe=ne;var ae=Object.prototype.hasOwnProperty;const ce=i.Uint8Array,ie=function(t){var e=new t.constructor(t.byteLength);return new ce(e).set(new ce(t)),e};var ue=/\w*$/;var se=s?s.prototype:void 0,fe=se?se.valueOf:void 0;const le=function(t,e,r){var n,o,a,c=t.constructor;switch(e){case"[object ArrayBuffer]":return ie(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?ie(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ie(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(a=new(o=t).constructor(o.source,ue.exec(o))).lastIndex=o.lastIndex,a;case"[object Symbol]":return n=t,fe?Object(fe.call(n)):{}}};var pe=Object.create;const be=function(){function t(){}return function(e){if(!v(e))return{};if(pe)return pe(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var ye=yt&&yt.isMap;const he=ye?ft(ye):function(t){return J(t)&&"[object Map]"==oe(t)};var de=yt&&yt.isSet;const ve=de?ft(de):function(t){return J(t)&&"[object Set]"==oe(t)};var je="[object Arguments]",_e="[object Function]",me={};me[je]=me["[object Array]"]=me["[object ArrayBuffer]"]=me["[object DataView]"]=me["[object Boolean]"]=me["[object Date]"]=me["[object Float32Array]"]=me["[object Float64Array]"]=me["[object Int8Array]"]=me["[object Int16Array]"]=me["[object Int32Array]"]=me["[object Map]"]=me["[object Number]"]=me["[object Object]"]=me["[object RegExp]"]=me["[object Set]"]=me["[object String]"]=me["[object Symbol]"]=me["[object Uint8Array]"]=me["[object Uint8ClampedArray]"]=me["[object Uint16Array]"]=me["[object Uint32Array]"]=!0,me["[object Error]"]=me[_e]=me["[object WeakMap]"]=!1;const ge=function t(e,r,n,o,a,c){var i,u=1&r,s=2&r,f=4&r;if(n&&(i=a?n(e,o,a,c):n(e)),void 0!==i)return i;if(!v(e))return e;var l=et(e);if(l){if(i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ae.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!u)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,i)}else{var p=oe(e),b=p==_e||"[object GeneratorFunction]"==p;if(at(e))return function(t,e){if(e)return t.slice();var r=t.length,n=Ut?Ut(r):new t.constructor(r);return t.copy(n),n}(e,u);if("[object Object]"==p||p==je||b&&!a){if(i=s||b?{}:function(t){return"function"!=typeof t.constructor||mt(t)?{}:be(Tt(t))}(e),!u)return s?function(t,e){return H(t,Nt(t),e)}(e,function(t,e){return t&&H(e,Et(e),t)}(i,e)):function(t,e){return H(t,$t(t),e)}(e,function(t,e){return t&&H(e,St(e),t)}(i,e))}else{if(!me[p])return a?e:{};i=le(e,p,u)}}c||(c=new L);var y=c.get(e);if(y)return y;c.set(e,i),ve(e)?e.forEach((function(o){i.add(t(o,r,n,o,e,c))})):he(e)&&e.forEach((function(o,a){i.set(a,t(o,r,n,a,e,c))}));var h=l?void 0:(f?s?Ct:Vt:s?Et:St)(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(h||e,(function(o,a){h&&(o=e[a=o]),G(i,a,t(o,r,n,a,e,c))})),i};function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oe={hasKey:!1,singleArray:!1};function we(t){return null==t.uid&&(t.uid=u.uid()),t}S.import("@main").then((function(){u.importCSS("@vue2-animate"),u.prepareAlpine((function(){Alpine.data("RepeatableField",(function(t,e){var r=t.items,n=t.defaultValues,o=t.attrs;return{items:r,defaultValues:n,attrs:o,options:u.defaultsDeep(e,Oe),init:function(){var t=this;this.options.sortable&&u.import("@sortablejs").then((function(){Sortable.create(t.$refs.tbody,{handle:".h-handle",animation:300,onEnd:function(e){var r=Alpine.raw(t.items),n=r.splice(e.oldIndex,1)[0];r.splice(e.newIndex,0,n),t.items=r;var o,a=[],c=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw a}}}}(r);try{for(c.s();!(o=c.n()).done;){var i=o.value;a.push(i.uid)}}catch(t){c.e(t)}finally{c.f()}t.$refs.steps_template._x_prevKeys=a;var u=t.$refs.steps_template.parentElement.querySelectorAll("tr");[].slice.call(u).forEach((function(t,e){var r;null!=(null==t||null===(r=t._x_dataStack[0])||void 0===r?void 0:r.i)&&(t._x_dataStack[0].i=e)}))}})})),r.forEach((function(t){we(t)})),this.options.ensureFirstRow&&this.makeSureDefaultItem()},addItem:function(t){var e=we(this.getEmptyItem());this.items.splice(t+1,0,e)},delItem:function(t){var e=this,r=this.getItemElementByUID(this.items[t].uid);r.classList.add("fadeOut"),r.addEventListener("animationend",(function(){e.items.splice(t,1),e.options.ensureFirstRow&&e.makeSureDefaultItem()}))},makeSureDefaultItem:function(){0===this.items.length&&this.items.push(we(this.getEmptyItem()))},getItemElementByUID:function(t){return this.$root.querySelector('[data-item="'.concat(t,'"]'))},getId:function(t,e,r){return"".concat(this.id,"-").concat(e.uid,"-").concat(r)},getName:function(t,e,r){return this.options.singleArray?this.options.hasKey?"key"===r?"":"".concat(this.fieldName,"[").concat(e.key,"]"):"".concat(this.fieldName,"[]"):"".concat(this.fieldName,"[").concat(t,"][").concat(r,"]")},getEmptyItem:function(){return t=this.defaultValues,ge(t,5);var t},get canAdd(){return!this.options.max||this.options.max>this.items},get canModify(){return null==this.attrs.disabled&&null==this.attrs.readonly},get fieldName(){return this.options.fieldName},get id(){return this.options.id}}}))})),u.loadAlpine()}))})();
//# sourceMappingURL=repeatable.js.map