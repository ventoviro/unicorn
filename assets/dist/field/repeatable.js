!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(()=>(()=>{"use strict";var t={};(t=>{void 0!==l&&l.toStringTag&&Object.defineProperty(t,l.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);const e=function(t,e){return t===e||t!=t&&e!=e},r=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1};var n=Array.prototype.splice;function o(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(t){var e=this.__data__,o=r(e,t);return!(o<0||(o==e.length-1?e.pop():n.call(e,o,1),--this.size,0))},o.prototype.get=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]},o.prototype.has=function(t){return r(this.__data__,t)>-1},o.prototype.set=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};const a=o,i="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const s=i||c||Function("return this")();var l=s.Symbol;const f=l;var p=Object.prototype,b=p.hasOwnProperty,y=p.toString,h=f?f.toStringTag:void 0;var d=Object.prototype.toString;var v=f?f.toStringTag:void 0;const j=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=b.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[h]=r:delete t[h]),o}(t):function(t){return d.call(t)}(t)},_=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},m=function(t){if(!_(t))return!1;var e=j(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},g=s["__core-js_shared__"];var O,w=(O=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var A=Function.prototype.toString;const x=function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var I=/^\[object .+?Constructor\]$/,E=Function.prototype,$=Object.prototype,P=E.toString,z=$.hasOwnProperty,F=RegExp("^"+P.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const U=function(t){return!(!_(t)||(e=t,w&&w in e))&&(m(t)?F:I).test(x(t));var e},k=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return U(r)?r:void 0},D=k(s,"Map"),M=k(Object,"create");var T=Object.prototype.hasOwnProperty;var B=Object.prototype.hasOwnProperty;function N(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}N.prototype.clear=function(){this.__data__=M?M(null):{},this.size=0},N.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},N.prototype.get=function(t){var e=this.__data__;if(M){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return T.call(e,t)?e[t]:void 0},N.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:B.call(e,t)},N.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=M&&void 0===e?"__lodash_hash_undefined__":e,this};const R=N,V=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}L.prototype.clear=function(){this.size=0,this.__data__={hash:new R,map:new(D||a),string:new R}},L.prototype.delete=function(t){var e=V(this,t).delete(t);return this.size-=e?1:0,e},L.prototype.get=function(t){return V(this,t).get(t)},L.prototype.has=function(t){return V(this,t).has(t)},L.prototype.set=function(t,e){var r=V(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const C=L;function q(t){var e=this.__data__=new a(t);this.size=e.size}q.prototype.clear=function(){this.__data__=new a,this.size=0},q.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var r=this.__data__;if(r instanceof a){var n=r.__data__;if(!D||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new C(n)}return r.set(t,e),this.size=r.size,this};const W=q,K=function(){try{var t=k(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),G=function(t,e,r){"__proto__"==e&&K?K(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var H=Object.prototype.hasOwnProperty;const J=function(t,r,n){var o=t[r];H.call(t,r)&&e(o,n)&&(void 0!==n||r in t)||G(t,r,n)},Q=function(t,e,r,n){var o=!r;r||(r={});for(var a=-1,i=e.length;++a<i;){var c=e[a],s=n?n(r[c],t[c],c,r,t):void 0;void 0===s&&(s=t[c]),o?G(r,c,s):J(r,c,s)}return r},X=function(t){return null!=t&&"object"==typeof t},Y=function(t){return X(t)&&"[object Arguments]"==j(t)};var Z=Object.prototype,tt=Z.hasOwnProperty,et=Z.propertyIsEnumerable;const rt=Y(function(){return arguments}())?Y:function(t){return X(t)&&tt.call(t,"callee")&&!et.call(t,"callee")},nt=Array.isArray;var ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=ot&&"object"==typeof module&&module&&!module.nodeType&&module,it=at&&at.exports===ot?s.Buffer:void 0;const ct=(it?it.isBuffer:void 0)||function(){return!1};var st=/^(?:0|[1-9]\d*)$/;const ut=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&st.test(t))&&t>-1&&t%1==0&&t<e},lt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;const pt=function(t){return function(e){return t(e)}};var bt="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=bt&&"object"==typeof module&&module&&!module.nodeType&&module,ht=yt&&yt.exports===bt&&i.process;const dt=function(){try{return yt&&yt.require&&yt.require("util").types||ht&&ht.binding&&ht.binding("util")}catch(t){}}();var vt=dt&&dt.isTypedArray;const jt=vt?pt(vt):function(t){return X(t)&&lt(t.length)&&!!ft[j(t)]};var _t=Object.prototype.hasOwnProperty;const mt=function(t,e){var r=nt(t),n=!r&&rt(t),o=!r&&!n&&ct(t),a=!r&&!n&&!o&&jt(t),i=r||n||o||a,c=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=c.length;for(var u in t)!e&&!_t.call(t,u)||i&&("length"==u||o&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ut(u,s))||c.push(u);return c};var gt=Object.prototype;const Ot=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||gt)},wt=function(t,e){return function(r){return t(e(r))}},At=wt(Object.keys,Object);var xt=Object.prototype.hasOwnProperty;const St=function(t){return null!=t&&lt(t.length)&&!m(t)},It=function(t){return St(t)?mt(t):function(t){if(!Ot(t))return At(t);var e=[];for(var r in Object(t))xt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)};var Et=Object.prototype.hasOwnProperty;const $t=function(t){if(!_(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Ot(t),r=[];for(var n in t)("constructor"!=n||!e&&Et.call(t,n))&&r.push(n);return r},Pt=function(t){return St(t)?mt(t,!0):$t(t)};var zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ft=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Ut=Ft&&Ft.exports===zt?s.Buffer:void 0,kt=Ut?Ut.allocUnsafe:void 0;const Dt=function(){return[]};var Mt=Object.prototype.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols;const Bt=Tt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}(Tt(t),(function(e){return Mt.call(t,e)})))}:Dt,Nt=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Rt=wt(Object.getPrototypeOf,Object),Vt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Nt(e,Bt(t)),t=Rt(t);return e}:Dt,Lt=function(t,e,r){var n=e(t);return nt(t)?n:Nt(n,r(t))},Ct=function(t){return Lt(t,It,Bt)},qt=function(t){return Lt(t,Pt,Vt)},Wt=k(s,"DataView"),Kt=k(s,"Promise"),Gt=k(s,"Set"),Ht=k(s,"WeakMap");var Jt="[object Map]",Qt="[object Promise]",Xt="[object Set]",Yt="[object WeakMap]",Zt="[object DataView]",te=x(Wt),ee=x(D),re=x(Kt),ne=x(Gt),oe=x(Ht),ae=j;(Wt&&ae(new Wt(new ArrayBuffer(1)))!=Zt||D&&ae(new D)!=Jt||Kt&&ae(Kt.resolve())!=Qt||Gt&&ae(new Gt)!=Xt||Ht&&ae(new Ht)!=Yt)&&(ae=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,n=r?x(r):"";if(n)switch(n){case te:return Zt;case ee:return Jt;case re:return Qt;case ne:return Xt;case oe:return Yt}return e});const ie=ae;var ce=Object.prototype.hasOwnProperty;const se=s.Uint8Array,ue=function(t){var e=new t.constructor(t.byteLength);return new se(e).set(new se(t)),e};var le=/\w*$/;var fe=f?f.prototype:void 0,pe=fe?fe.valueOf:void 0;const be=function(t,e,r){var n,o,a,i=t.constructor;switch(e){case"[object ArrayBuffer]":return ue(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var r=e?ue(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ue(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return(a=new(o=t).constructor(o.source,le.exec(o))).lastIndex=o.lastIndex,a;case"[object Symbol]":return n=t,pe?Object(pe.call(n)):{}}};var ye=Object.create;const he=function(){function t(){}return function(e){if(!_(e))return{};if(ye)return ye(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var de=dt&&dt.isMap;const ve=de?pt(de):function(t){return X(t)&&"[object Map]"==ie(t)};var je=dt&&dt.isSet;const _e=je?pt(je):function(t){return X(t)&&"[object Set]"==ie(t)};var me="[object Arguments]",ge="[object Function]",Oe="[object Object]",we={};we[me]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object DataView]"]=we["[object Boolean]"]=we["[object Date]"]=we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Map]"]=we["[object Number]"]=we[Oe]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object Symbol]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Error]"]=we[ge]=we["[object WeakMap]"]=!1;const Ae=function t(e,r,n,o,a,i){var c,s=1&r,u=2&r,l=4&r;if(n&&(c=a?n(e,o,a,i):n(e)),void 0!==c)return c;if(!_(e))return e;var f=nt(e);if(f){if(c=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!s)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(e,c)}else{var p=ie(e),b=p==ge||"[object GeneratorFunction]"==p;if(ct(e))return function(t,e){if(e)return t.slice();var r=t.length,n=kt?kt(r):new t.constructor(r);return t.copy(n),n}(e,s);if(p==Oe||p==me||b&&!a){if(c=u||b?{}:function(t){return"function"!=typeof t.constructor||Ot(t)?{}:he(Rt(t))}(e),!s)return u?function(t,e){return Q(t,Vt(t),e)}(e,function(t,e){return t&&Q(e,Pt(e),t)}(c,e)):function(t,e){return Q(t,Bt(t),e)}(e,function(t,e){return t&&Q(e,It(e),t)}(c,e))}else{if(!we[p])return a?e:{};c=be(e,p,s)}}i||(i=new W);var y=i.get(e);if(y)return y;i.set(e,c),_e(e)?e.forEach((function(o){c.add(t(o,r,n,o,e,i))})):ve(e)&&e.forEach((function(o,a){c.set(a,t(o,r,n,a,e,i))}));var h=f?void 0:(l?u?qt:Ct:u?Pt:It)(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(h||e,(function(o,a){h&&(o=e[a=o]),J(c,a,t(o,r,n,a,e,i))})),c},xe={id:"",fieldName:"",sortable:!1,hasKey:!1,singleArray:!1,ensureFirstRow:!1,max:null};function Se(t){return null==t.uid&&(t.uid=u.uid()),t}return S.import("@main").then((async()=>{u.importCSS("@vue-animate"),u.prepareAlpine((()=>{Alpine.data("RepeatableField",(({items:t,defaultValues:e,attrs:r},n)=>({items:t,defaultValues:e,attrs:r,options:u.defaultsDeep(n,xe),init(){this.options.sortable&&u.import("@sortablejs").then((()=>{Sortable.create(this.$refs.tbody,{handle:".h-handle",animation:300,onEnd:t=>{const e=Alpine.raw(this.items),r=e.splice(t.oldIndex,1)[0];e.splice(t.newIndex,0,r),this.items=e;let n=[];for(let t of e)n.push(t.uid);this.$refs.steps_template._x_prevKeys=n;const o=this.$refs.steps_template.parentElement.querySelectorAll("tr");[].slice.call(o).forEach(((t,e)=>{null!=t?._x_dataStack[0]?.i&&(t._x_dataStack[0].i=e)}))}})})),t.forEach((t=>{Se(t)})),this.options.ensureFirstRow&&this.makeSureDefaultItem()},addItem(t){const e=Se(this.getEmptyItem());this.items.splice(t+1,0,e)},delItem(t){const e=this.getItemElementByUID(this.items[t].uid);let r=!1;e.addEventListener("animationstart",(()=>{r=!0}),{once:!0}),e.classList.add("animate__fadeOut"),setTimeout((()=>{r||this._removeItem(t)}),100),e.addEventListener("animationend",(()=>{this._removeItem(t)}),{once:!0})},_removeItem(t){this.items.splice(t,1),this.options.ensureFirstRow&&this.makeSureDefaultItem()},makeSureDefaultItem(){0===this.items.length&&this.items.push(Se(this.getEmptyItem()))},getItemElementByUID(t){return this.$root.querySelector(`[data-item="${t}"]`)},getId(t,e,r){return`${this.id}-${e.uid}-${r}`},getName(t,e,r){return this.options.singleArray?this.options.hasKey?"key"===r?"":`${this.fieldName}[${e.key}]`:`${this.fieldName}[]`:`${this.fieldName}[${t}][${r}]`},getEmptyItem(){return t=this.defaultValues,Ae(t,5);var t},get canAdd(){return!this.options.max||this.options.max>this.items.length},get canModify(){return null==this.attrs.disabled&&null==this.attrs.readonly},get fieldName(){return this.options.fieldName},get id(){return this.options.id}})))})),await u.initAlpine("data-repeatable")})),t})()));
//# sourceMappingURL=main.js.map