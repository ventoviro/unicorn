!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.VueComponentField=n():e.VueComponentField=n()}(self,(()=>(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{VueComponentField:()=>t});class t{static async init(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{createApp:o,ref:i,reactive:l,toRefs:r,onMounted:a}=Vue;t=u.defaultsDeep({},t,{init:null,json:!1});let d=o({setup(e,o){let{emit:d}=o;const c=l({value:n}),p=i(null),f=i(null);let s;return a((()=>{var e,n;s=null===(e=f.value)||void 0===e||null===(n=e.closest("[data-field-wrapper]"))||void 0===n?void 0:n.querySelector("[data-field-input]")})),{...r(c),elPlaceholder:f,mainInput:p,onChange:function(e){d("change",e),s&&(s.value=t.json?JSON.stringify(e):e,s.dispatchEvent(new CustomEvent("change")))},onInput:function(e){d("input",e),s&&(s.value=t.json?JSON.stringify(e):e,s.dispatchEvent(new CustomEvent("input")))},onInvalid:function(e){var n;d("invalid",e),null===(n=s)||void 0===n||n.dispatchEvent(new CustomEvent("invalid"))},callGlobal:function(e){return function(){return window[e](...arguments)}},unicornEvent:function(e){return function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return u.trigger(e,...t)}}}}});t.init&&(d=await t.init(d)||d),d.mount(e)}}return n})()));
//# sourceMappingURL=vue-component-field.js.map