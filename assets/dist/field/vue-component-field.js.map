{"version":3,"file":"vue-component-field.js","names":["VueComponentField","init","selector","value","createApp","ref","reactive","toRefs","watch","onMounted","Vue","app","setup","props","emit","state","mainInput","storeInput","onChange","e","dispatchEvent","CustomEvent","onInput","onInvalid","mount"],"sources":["vue-component-field.js"],"sourcesContent":["/**\n * Part of earth project.\n *\n * @copyright  Copyright (C) 2023 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class VueComponentField {\n  static async init(selector, value, init) {\n    const { createApp, ref, reactive, toRefs, watch, onMounted } = Vue;\n\n    let app = createApp({\n      setup(props, { emit }) {\n        const state = reactive({\n          value,\n        });\n        const mainInput = ref(null);\n        const storeInput = ref(null);\n\n        function onChange(e) {\n          emit('change', e);\n\n          storeInput.dispatchEvent(new CustomEvent('change'));\n        }\n\n        function onInput(e) {\n          emit('change', e);\n\n          storeInput.dispatchEvent(new CustomEvent('input'));\n        }\n\n        function onInvalid(e) {\n          emit('invalid', e);\n\n          storeInput.dispatchEvent(new CustomEvent('invalid'));\n        }\n\n        return {\n          ...toRefs(state),\n          mainInput,\n          storeInput,\n\n          onChange,\n          onInput,\n          onInvalid,\n        }\n      }\n    });\n\n    if (init) {\n      app = (await init(app)) || app;\n    }\n    \n    app.mount(selector);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;EAAA;AACA;AACA;AACA;AACA;AACA;;EAEO,MAAMA,iBAAiB,CAAC;IAC7B,aAAaC,IAAI,CAACC,QAAQ,EAAEC,KAAK,EAAEF,IAAI,EAAE;MACvC,MAAM;QAAEG,SAAS;QAAEC,GAAG;QAAEC,QAAQ;QAAEC,MAAM;QAAEC,KAAK;QAAEC;MAAU,CAAC,GAAGC,GAAG;MAElE,IAAIC,GAAG,GAAGP,SAAS,CAAC;QAClBQ,KAAK,CAACC,KAAK,QAAY;UAAA,IAAV;YAAEC;UAAK,CAAC;UACnB,MAAMC,KAAK,GAAGT,QAAQ,CAAC;YACrBH;UACF,CAAC,CAAC;UACF,MAAMa,SAAS,GAAGX,GAAG,CAAC,IAAI,CAAC;UAC3B,MAAMY,UAAU,GAAGZ,GAAG,CAAC,IAAI,CAAC;UAE5B,SAASa,QAAQ,CAACC,CAAC,EAAE;YACnBL,IAAI,CAAC,QAAQ,EAAEK,CAAC,CAAC;YAEjBF,UAAU,CAACG,aAAa,CAAC,IAAIC,WAAW,CAAC,QAAQ,CAAC,CAAC;UACrD;UAEA,SAASC,OAAO,CAACH,CAAC,EAAE;YAClBL,IAAI,CAAC,QAAQ,EAAEK,CAAC,CAAC;YAEjBF,UAAU,CAACG,aAAa,CAAC,IAAIC,WAAW,CAAC,OAAO,CAAC,CAAC;UACpD;UAEA,SAASE,SAAS,CAACJ,CAAC,EAAE;YACpBL,IAAI,CAAC,SAAS,EAAEK,CAAC,CAAC;YAElBF,UAAU,CAACG,aAAa,CAAC,IAAIC,WAAW,CAAC,SAAS,CAAC,CAAC;UACtD;UAEA,OAAO;YACL,GAAGd,MAAM,CAACQ,KAAK,CAAC;YAChBC,SAAS;YACTC,UAAU;YAEVC,QAAQ;YACRI,OAAO;YACPC;UACF,CAAC;QACH;MACF,CAAC,CAAC;MAEF,IAAItB,IAAI,EAAE;QACRU,GAAG,GAAG,CAAC,MAAMV,IAAI,CAACU,GAAG,CAAC,KAAKA,GAAG;MAChC;MAEAA,GAAG,CAACa,KAAK,CAACtB,QAAQ,CAAC;IACrB;EACF;EAAC;AAAA"}