{"version":3,"sources":["system-hooks.ts"],"names":[],"mappings":"AAAA,SAAS,YAAY;IACnB,aAAa;IACb,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,GAAG;QACvD,aAAa;QACb,MAAM,CAAC,GAAG,MAAM,CAAC,oBAAoB,CAAC;QAEtC,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;YAC3B,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;SAChB;aAAM;YACL,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;SAChB;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACvE,CAAC,CAAA;AACH,CAAC;AAED,IAAI,QAAQ,CAAC,aAAa,EAAE;IAC1B,aAAa;IACb,MAAM,CAAC,oBAAoB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC;IACrE,YAAY,EAAE,CAAC;CAChB","file":"system-hooks.js","sourcesContent":["function hookSystemJS() {\n  // @ts-ignore\n  System.constructor.prototype.createScript = function (url) {\n    // @ts-ignore\n    const v = window.unicornScriptVersion;\n\n    if (url.indexOf('?') !== -1) {\n      url += '&' + v;\n    } else {\n      url += '?' + v;\n    }\n    return Object.assign(document.createElement('script'), { src: url });\n  }\n}\n\nif (document.currentScript) {\n  // @ts-ignore\n  window.unicornScriptVersion = document.currentScript.dataset.version;\n  hookSystemJS();\n}\n"]}