{"version":3,"file":"checkboxes-multi-select.js","names":["CheckboxesMultiSelect","handle","selector","options","u","selectAll","ele","constructor","duration","inputSelector","$element","selectOne","Object","assign","defaultOptions","boxes","querySelectorAll","last","box","addEventListener","e","select","event","shiftKey","start","indexOf","call","end","chs","slice","Math","min","max","forEach","i","checked"],"sources":["ui/checkboxes-multi-select.js"],"sourcesContent":["/**\n * Part of unicorn project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  static handle(selector, options = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector, options = {}) {\n    this.$element = u.selectOne(selector);\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box, event) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      const start = [].indexOf.call(this.boxes, box);\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele, i) => {\n        ele.checked = this.last.checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"],"mappings":";;;MAOaA,qBAAqB;EAAA;EAAA;EAAA;IAAA;IAAA;MAPlC;AACA;AACA;AACA;AACA;AACA;MALA,iCAOaA,qBAAqB,GAA3B,MAAMA,qBAAqB,CAAC;QAMjC,OAAOC,MAAM,CAACC,QAAQ,EAAgB;UAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;UAClC,OAAOC,CAAC,CAACC,SAAS,CAACH,QAAQ,EAAGI,GAAG,IAAK;YACpC,OAAO,IAAI,IAAI,CAACA,GAAG,EAAEH,OAAO,CAAC;UAC/B,CAAC,CAAC;QACJ;QAEAI,WAAW,CAACL,QAAQ,EAAgB;UAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;UAAA,wCAXjB;YACfK,QAAQ,EAAE,GAAG;YACbC,aAAa,EAAE;UACjB,CAAC;UASC,IAAI,CAACC,QAAQ,GAAGN,CAAC,CAACO,SAAS,CAACT,QAAQ,CAAC;UACrC,IAAI,CAACC,OAAO,GAAGS,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACC,cAAc,EAAEX,OAAO,CAAC;UAC9D,IAAI,CAACY,KAAK,GAAG,IAAI,CAACL,QAAQ,CAACM,gBAAgB,CAAC,IAAI,CAACb,OAAO,CAACM,aAAa,CAAC;UACvE,IAAI,CAACQ,IAAI,GAAG,KAAK;UAEjBb,CAAC,CAACC,SAAS,CAAC,IAAI,CAACU,KAAK,EAAGG,GAAG,IAAK;YAC/BA,GAAG,CAACC,gBAAgB,CAAC,OAAO,EAAGC,CAAC,IAAK;cACnC,IAAI,CAACC,MAAM,CAACH,GAAG,EAAEE,CAAC,CAAC;YACrB,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ;QAEAC,MAAM,CAACH,GAAG,EAAEI,KAAK,EAAE;UACjB,IAAI,CAAC,IAAI,CAACL,IAAI,EAAE;YACd,IAAI,CAACA,IAAI,GAAGC,GAAG;YAEf;UACF;UAEA,IAAII,KAAK,CAACC,QAAQ,EAAE;YAClB,MAAMC,KAAK,GAAG,EAAE,CAACC,OAAO,CAACC,IAAI,CAAC,IAAI,CAACX,KAAK,EAAEG,GAAG,CAAC;YAC9C,MAAMS,GAAG,GAAG,EAAE,CAACF,OAAO,CAACC,IAAI,CAAC,IAAI,CAACX,KAAK,EAAE,IAAI,CAACE,IAAI,CAAC;YAElD,MAAMW,GAAG,GAAG,EAAE,CAACC,KAAK,CAACH,IAAI,CAAC,IAAI,CAACX,KAAK,EAAEe,IAAI,CAACC,GAAG,CAACP,KAAK,EAAEG,GAAG,CAAC,EAAEG,IAAI,CAACE,GAAG,CAACR,KAAK,EAAEG,GAAG,CAAC,GAAG,CAAC,CAAC;YAErF,EAAE,CAACM,OAAO,CAACP,IAAI,CAACE,GAAG,EAAE,CAACtB,GAAG,EAAE4B,CAAC,KAAK;cAC/B5B,GAAG,CAAC6B,OAAO,GAAG,IAAI,CAAClB,IAAI,CAACkB,OAAO;YACjC,CAAC,CAAC;UACJ;UAEA,IAAI,CAAClB,IAAI,GAAGC,GAAG;QACjB;MACF,CAAC;IAAA;EAAA;AAAA"}