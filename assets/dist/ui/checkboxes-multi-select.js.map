{"version":3,"sources":["ui/checkboxes-multi-select.js"],"names":["System","register","_export","_context","_defineProperty","obj","key","value","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","setters","execute","handle","selector","options","arguments","length","u","selectAll","ele","this","constructor","duration","inputSelector","selectOne","$element","querySelectorAll","boxes","box","addEventListener","e","select","event","shiftKey","start","indexOf","end","last","slice","Math","min","max","forEach","chs","i","checked"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAOL,SAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAA,SAAAE,GAAA,IAAAF,EAAA,SAAAG,EAAAC,GAAA,GAAA,iBAAAD,GAAA,OAAAA,EAAA,OAAAA,EAAA,IAAAE,EAAAF,EAAAG,OAAAC,aAAA,QAAAC,IAAAH,EAAA,CAAA,IAAAI,EAAAJ,EAAAK,KAAAP,EAAAC,GAAA,WAAA,GAAA,iBAAAK,EAAA,OAAAA,EAAA,MAAA,IAAAE,UAAA,+CAAA,CAAA,OAAA,WAAAP,EAAAQ,OAAAC,QAAAV,EAAA,CAAAW,CAAAZ,EAAA,UAAA,MAAA,iBAAAF,EAAAA,EAAAY,OAAAZ,EAAA,CAAAe,CAAAf,MAAAD,EAAAiB,OAAAC,eAAAlB,EAAAC,EAAA,CAAAC,MAAAA,EAAAiB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAArB,EAAAC,GAAAC,EAAAF,CAAA,CAAA,OAAAH,EAAA,6BAAA,GAAA,CAAAyB,QAAA,GAAAC,QAAA,WAPlC1B,EAAA,wBAAA,MACA,aAAA2B,CAAAC,GACA,IAAAC,EAAAC,UAAAC,OAAA,QAAAnB,IAAAkB,UAAA,GAAAA,UAAA,GAAA,CAAA,EACA,OAAAE,EAAAC,UAAAL,GAAAM,GACA,IAAAC,KAAAD,EAAAL,IAJA7B,CAaE,WAAAoC,CAAOT,GAA+B,IAAdE,EAAOC,UAAAC,OAAA,QAAAnB,IAAAkB,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjC5B,EAAS+B,KAAUL,iBAAmB,CACpCS,SAAO,IACPC,cAAA,kDAGJF,KAAAA,SAAYR,EAAQW,UAAgBX,GAAAO,KAAdN,QAAOC,OAAAA,OAAAC,CAAA,EAAAI,KAAAL,eAAAD,GAAK3B,KAAAA,MAAAA,KAAAsC,SAAAC,iBAXjBN,KAAAN,QAAAS,eAmBTH,KAlBNE,MAAU,EAmBJL,EAlBNM,UAAAA,KAAeI,OAAAC,IAChBA,EAAAC,iBAAA,SAAAC,IASKV,KAACK,OAAWR,EAAEO,EAAAA,GACd,GAYA,CACA,MAAAO,CATFb,EAAAA,GAUI,GATDE,KAACS,KASA,CALR,GAAAG,EAAAC,SAAA,CAEAF,MAAUG,EAAO,GAAEC,QAAApC,KAAAqB,KAAAO,MAAAC,GACZQ,EAAS,GAAED,QAAApC,KAAAqB,KAAAO,MAAAP,KAAAiB,MACTA,EAAOT,GAAGU,MAAAvC,KAAAqB,KAAAO,MAAAY,KAAAC,IAAAN,EAAAE,GAAAG,KAAAE,IAAAP,EAAAE,GAAA,GAEf,GAAAM,QAAA3C,KAAA4C,GAAA,CAAAxB,EAAAyB,KACFzB,EAAA0B,QAAAzB,KAAAiB,KAAAQ,OAAA,GASM,CACAzB,KANJiB,KAAST,CAZX,MAOQR,KATJiB,KAAKN,CAqBL,GAEJ,EAEJ","file":"checkboxes-multi-select.js","sourcesContent":["/**\n * Part of unicorn project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  static handle(selector, options = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector, options = {}) {\n    this.$element = u.selectOne(selector);\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box, event) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      const start = [].indexOf.call(this.boxes, box);\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele, i) => {\n        ele.checked = this.last.checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"]}