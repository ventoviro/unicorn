{"version":3,"sources":["ui/checkboxes-multi-select.js"],"names":["System","register","_export","_context","_defineProperty","obj","key","value","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","setters","execute","handle","selector","options","arguments","length","u","selectAll","ele","this","constructor","duration","inputSelector","$element","selectOne","assign","defaultOptions","boxes","querySelectorAll","last","box","addEventListener","e","select","event","shiftKey","start","indexOf","end","chs","slice","Math","min","max","forEach","i","checked"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAAL,SAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAA,SAAAE,GAAA,IAAAF,EAAA,SAAAG,EAAAC,GAAA,GAAA,iBAAAD,GAAA,OAAAA,EAAA,OAAAA,EAAA,IAAAE,EAAAF,EAAAG,OAAAC,aAAA,QAAAC,IAAAH,EAAA,CAAA,IAAAI,EAAAJ,EAAAK,KAAAP,EAAAC,GAAA,WAAA,GAAA,iBAAAK,EAAA,OAAAA,EAAA,MAAA,IAAAE,UAAA,+CAAA,CAAA,OAAA,WAAAP,EAAAQ,OAAAC,QAAAV,EAAA,CAAAW,CAAAZ,EAAA,UAAA,MAAA,iBAAAF,EAAAA,EAAAY,OAAAZ,EAAA,CAAAe,CAAAf,MAAAD,EAAAiB,OAAAC,eAAAlB,EAAAC,EAAA,CAAAC,MAAAA,EAAAiB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAArB,EAAAC,GAAAC,EAAAF,CAAA,CAAA,OAAAH,EAAA,6BAAA,GAAA,CAAAyB,QAAA,GAAAC,QAAA,WAAA1B,EAAA,wBAA3B,MAML,aAAO2B,CAAOC,GAAwB,IAAdC,EAAOC,UAAAC,OAAA,QAAAnB,IAAAkB,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjC,OAAOE,EAAEC,UAAUL,GAAWM,GACrB,IAAIC,KAAKD,EAAKL,IAEzB,CAEAO,WAAAA,CAAYR,GAAwB,IAAdC,EAAOC,UAAAC,OAAA,QAAAnB,IAAAkB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAC5B,EAAAiC,KAAA,iBAXjB,CACfE,SAAU,IACVC,cAAe,kDAUfH,KAAKI,SAAWP,EAAEQ,UAAUZ,GAC5BO,KAAKN,QAAUT,OAAOqB,OAAO,CAAC,EAAGN,KAAKO,eAAgBb,GACtDM,KAAKQ,MAAQR,KAAKI,SAASK,iBAAiBT,KAAKN,QAAQS,eACzDH,KAAKU,MAAO,EAEZb,EAAEC,UAAUE,KAAKQ,OAAQG,IACvBA,EAAIC,iBAAiB,SAAUC,IAC7Bb,KAAKc,OAAOH,EAAKE,EAAE,GACnB,GAEN,CAEAC,MAAAA,CAAOH,EAAKI,GACV,GAAKf,KAAKU,KAAV,CAMA,GAAIK,EAAMC,SAAU,CAClB,MAAMC,EAAQ,GAAGC,QAAQvC,KAAKqB,KAAKQ,MAAOG,GACpCQ,EAAM,GAAGD,QAAQvC,KAAKqB,KAAKQ,MAAOR,KAAKU,MAEvCU,EAAM,GAAGC,MAAM1C,KAAKqB,KAAKQ,MAAOc,KAAKC,IAAIN,EAAOE,GAAMG,KAAKE,IAAIP,EAAOE,GAAO,GAEnF,GAAGM,QAAQ9C,KAAKyC,GAAK,CAACrB,EAAK2B,KACzB3B,EAAI4B,QAAU3B,KAAKU,KAAKiB,OAAO,GAEnC,CAEA3B,KAAKU,KAAOC,CAbZ,MAHEX,KAAKU,KAAOC,CAiBhB,GACD,EAAA","file":"checkboxes-multi-select.js","sourcesContent":["export class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  static handle(selector, options = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector, options = {}) {\n    this.$element = u.selectOne(selector);\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box, event) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      const start = [].indexOf.call(this.boxes, box);\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele, i) => {\n        ele.checked = this.last.checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"]}