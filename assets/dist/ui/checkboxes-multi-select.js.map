{"version":3,"sources":["ui/checkboxes-multi-select.ts"],"names":[],"mappings":"AAAA,aAAa;AACb,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AAEnB,MAAM,OAAO,qBAAqB;IAWhC,MAAM,CAAC,MAAM,CAAC,QAAa,EAAE,UAAe,EAAE;QAC5C,OAAO,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,EAAE;YACnC,OAAO,IAAI,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,QAAa,EAAE,OAAO,GAAG,EAAE;QAhBvC,mBAAc,GAAG;YACf,QAAQ,EAAE,GAAG;YACb,aAAa,EAAE,+CAA+C;SAC/D,CAAA;QAKD,SAAI,GAA6B,KAAK,CAAC;QASrC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,SAAS,CAAc,QAAQ,CAAE,CAAC;QACpD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QAC/D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACxE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAElB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,EAAE;YAC9B,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE;gBAClC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,GAAqB,EAAE,KAAiB;QAC7C,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACf,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAEhB,OAAO;QACT,CAAC;QAED,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;YACnB,aAAa;YACb,MAAM,KAAK,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YAE/C,aAAa;YACb,MAAM,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAEnD,MAAM,GAAG,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAEtF,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAqB,EAAE,CAAC,EAAE,EAAE;gBAChD,GAAG,CAAC,OAAO,GAAI,IAAI,CAAC,IAAyB,CAAC,OAAO,CAAC;YACxD,CAAC,CAAC,CAAC;QACL,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;IAClB,CAAC;CACF","file":"checkboxes-multi-select.js","sourcesContent":["// @ts-ignore\nconst u = window.u;\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  $element: HTMLElement;\n  options: any;\n  boxes: NodeListOf<HTMLInputElement>;\n  last: HTMLInputElement | false = false;\n\n  static handle(selector: any, options: any = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector: any, options = {}) {\n    this.$element = u.selectOne<HTMLElement>(selector)!;\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box: HTMLInputElement, event: MouseEvent) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      // @ts-ignore\n      const start = [].indexOf.call(this.boxes, box);\n\n      // @ts-ignore\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele: HTMLInputElement, i) => {\n        ele.checked = (this.last as HTMLInputElement).checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"]}