{"version":3,"sources":["ui/checkboxes-multi-select.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_defineProperty","obj","value","setters","execute","CheckboxesMultiSelect","selector","_this","this","options","arguments","undefined","duration","inputSelector","$element","u","selectOne","assign","defaultOptions","querySelectorAll","selectAll","boxes","box","addEventListener","e","protoProps","staticProps","ele","_this3","event","_this2","last","shiftKey","start","indexOf","call","end","chs","slice","Math","min","max","forEach","checked","prototype"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAKrC,SAASC,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAEhH,SAASC,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAI7S,SAASO,EAAgBC,EAAKF,EAAKG,GAAiK,OAApJH,KAAOE,EAAOJ,OAAOC,eAAeG,EAAKF,EAAK,CAAEG,MAAOA,EAAOR,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBK,EAAIF,GAAOG,EAAgBD,EAE3M,MAAO,CACLE,QAAS,GACTC,QAAS,WAfbtB,EAAA,wBAAA,WACA,SAAAuB,EAAAC,GACA,IAAAC,EAAAC,KAEAC,EAAAC,UAAAlB,OAAA,QAAAmB,IAAAD,UAAA,GAAAA,UAAA,GAAA,GAkBU1B,EAAgBwB,KAAMH,GAHML,EAAAQ,KAAA,iBAAA,CAM1BI,SAAU,IANgBC,cAAA,kDAU5BL,KAAKM,SAAWC,EAAEC,UAAUV,GAVAE,KAAAC,QAAAZ,OAAAoB,OAAA,GAAAT,KAAAU,eAXnBT,GACfG,KAAAA,MAAUJ,KADKM,SAAAK,iBAAAX,KAAAC,QAAAI,eAEfA,KAAAA,MAAAA,EAFeE,EAWmBK,UAAAZ,KAAAa,OAAA,SAAAC,GAe1BA,EAAIC,iBAAiB,SAAS,SAAUC,GAdhDjB,EAAKO,OAAYQ,EAACN,SAXpB,IAAsB9B,EAAauC,EAAYC,EAK7C,OALoBxC,EAiBdqC,EAjBuCG,EAqCzCC,CAAAA,CACD5B,IAFD,SAGDG,MAAA,SAAAI,GAgBO,IAAIsB,EAASpB,KAbtBC,EAAAC,UAAAlB,OAAA,QAAAmB,IAAAD,UAAA,GAAAA,UAAA,GAAA,GAgBS,OAAOK,EAAEK,UAAUd,GAAU,SAAUqB,GACrC,OAAO,IAAIC,EAAOD,EAAKlB,UA3DAgB,EAiBD,CAAA,CAC5B1B,IAAA,SACDG,MAFD,SAAAoB,EAAAO,GADF,IAAAC,EAAAtB,KAoBQ,GAAKA,KAAKuB,KAAV,CAKA,GAAIF,EAAMG,SAAU,CAjB5B,IAAKC,EAAL,GAAgBC,QAAAC,KAAA3B,KAAAa,MAAAC,GACdc,EAAA,GAAYd,QAAZa,KAAA3B,KAAAa,MAAAb,KAAAuB,MAEAM,EAAA,GAAAC,MAAAH,KAAA3B,KAAAa,MAAAkB,KAAAC,IAAAP,EAAAG,GAAAG,KAAAE,IAAAR,EAAAG,GAAA,GACD,GAAAM,QAAAP,KAAAE,GAAA,SAAAV,EAAApC,GAkBWoC,EAAIgB,QAAUb,EAAOC,KAAKY,WAZpCnC,KAAAuB,KAAYT,OAGJd,KAAKuB,KAAOT,OArCsDlC,EAAkBF,EAAY0D,UAAWnB,GAAiBC,GAAatC,EAAkBF,EAAawC,GAKlLrB,EAdJ","file":"checkboxes-multi-select.js","sourcesContent":["/**\n * Part of unicorn project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  static handle(selector, options = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector, options = {}) {\n    this.$element = u.selectOne(selector);\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box, event) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      const start = [].indexOf.call(this.boxes, box);\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele, i) => {\n        ele.checked = this.last.checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"]}