{"version":3,"sources":["ui/checkboxes-multi-select.js"],"names":["System","register","_export","_context","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_defineProperty","obj","value","setters","execute","CheckboxesMultiSelect","selector","_this","this","options","arguments","undefined","duration","inputSelector","u","selectOne","assign","defaultOptions","boxes","$element","querySelectorAll","box","addEventListener","e","protoProps","staticProps","_this3","selectAll","ele","event","_this2","last","shiftKey","start","indexOf","call","end","chs","Math","min","max","forEach","checked","prototype"],"mappings":"AAAAA,OAAOC,SAAS,IAAI,SAAUC,EAASC,GAIrC,SAASC,EAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,oCAAwC,CACxJ,SAASC,EAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,EAAa,CAAE,CAE5T,SAASO,EAAgBC,EAAKF,EAAKG,GAAiK,OAApJH,KAAOE,EAAOJ,OAAOC,eAAeG,EAAKF,EAAK,CAAEG,MAAOA,EAAOR,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBK,EAAIF,GAAOG,EAAgBD,CAAK,CAChN,MAAO,CACLE,QAAS,GACTC,QAAS,WAVbtB,EAAA,wBAAA,WACA,SAAAuB,EAAAC,GACA,IAAAC,EAAAC,KACAC,EAAAC,UAAAlB,OAAA,QAAAmB,IAAAD,UAAA,GAAAA,UAAA,GAAA,CAAA,EACA1B,EAAAwB,KAAAH,GACAL,EAAAQ,KAAA,iBAAA,CALAI,SAAA,IAmBEC,cAAA,kDAAoCL,KAAdC,SAAOK,EAAAC,UAAAT,GAAKE,KAAAC,QAAAZ,OAAAmB,OAAA,CAAA,EAAAR,KAAAS,eAAAR,GAAAD,KAAAU,MAAAV,KAAAW,SAAAC,iBAXjBZ,KAAAC,QAAAI,eAeTL,KAdNI,MAAU,EAeJE,EAdND,UAAAA,KAAeK,OAAA,SAAAG,GAChBA,EAAAC,iBAAA,SAAA,SAAAC,GASKhB,EAACY,OAAYE,EAACN,EAClB,GACA,GAOI,CAvBN,IAAsB7B,EAAasC,EAAYC,EAoDzC,OApDgBvC,EAmBTmB,EAnBkCoB,EA0CrC,CAAC,CACH1B,IAAK,SACLG,MAHF,SAAAI,GACJ,IAAAoB,EAAAlB,KAEIC,EAAQY,UAAG7B,OAAA,QAAAmB,IAAAD,UAAA,GAAAA,UAAA,GAAA,CAAA,EACjB,OAAAI,EAAAa,UAAArB,GAAA,SAAAsB,GAAC,OAAA,IAAAF,EAAAE,EAAAnB,EAAA,GAAA,KA7CkCe,EAmBRH,CAAAA,CAMnBtB,IALD,SAMCG,MALF,SAAkBmB,EAACQ,GACrB,IAAEC,EAAAtB,KACF,GAAAA,KAAAuB,KAAA,CACH,GAAAF,EAEDG,SAAA,CAAmB,IAAAC,EAAA,GAAAC,QAAAC,KAAA3B,KAAAU,MAAAG,GACZe,EAAKL,GAAIG,QAAEC,KAAA3B,KAAAU,MAAAV,KAAAuB,MACVM,EAAK,GAAGhB,MAAGc,KAAA3B,KAAAU,MAAAoB,KAAAC,IAAAN,EAAAG,GAAAE,KAAAE,IAAAP,EAAAG,GAAA,GAEf,GAAAK,QAAAN,KAAAE,GAAA,SAAAT,EAAArC,GACFqC,EAAAc,QAAAZ,EAAAC,KAAAW,OAEA,GAMQ,CACAlC,KALNuB,KAAYV,CAXf,MAADb,KAAAuB,KAAAV,CAiBQ,MAzCsEjC,EAAkBF,EAAYyD,UAAWnB,GAAiBC,GAAarC,EAAkBF,EAAauC,GAAc5B,OAAOC,eAAeZ,EAAa,YAAa,CAAEU,UAAU,IAOxNS,CA8ClC,CA3DN,GA4DI,EAEJ","file":"checkboxes-multi-select.js","sourcesContent":["/**\n * Part of unicorn project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nexport class CheckboxesMultiSelect {\n  defaultOptions = {\n    duration: 100,\n    inputSelector: 'input[type=checkbox][data-role=grid-checkbox]'\n  }\n\n  static handle(selector, options = {}) {\n    return u.selectAll(selector, (ele) => {\n      return new this(ele, options);\n    });\n  }\n\n  constructor(selector, options = {}) {\n    this.$element = u.selectOne(selector);\n    this.options = Object.assign({}, this.defaultOptions, options);\n    this.boxes = this.$element.querySelectorAll(this.options.inputSelector);\n    this.last = false;\n\n    u.selectAll(this.boxes, (box) => {\n      box.addEventListener('click', (e) => {\n        this.select(box, e);\n      });\n    });\n  }\n\n  select(box, event) {\n    if (!this.last) {\n      this.last = box;\n\n      return;\n    }\n\n    if (event.shiftKey) {\n      const start = [].indexOf.call(this.boxes, box);\n      const end = [].indexOf.call(this.boxes, this.last);\n\n      const chs = [].slice.call(this.boxes, Math.min(start, end), Math.max(start, end) + 1);\n\n      [].forEach.call(chs, (ele, i) => {\n        ele.checked = this.last.checked;\n      });\n    }\n\n    this.last = box;\n  }\n}\n"]}