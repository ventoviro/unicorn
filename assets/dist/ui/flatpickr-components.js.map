{"version":3,"sources":["ui/flatpickr-components.js"],"names":["FlatpickrElement","getAttribute","options","ignore","getAttributeNames","forEach","name","indexOf","JSON","parse","handleOptions","then","instance","flatpickr","querySelector","selector","monthSelect","Promise","all","System","modules","styleSheet","document","adoptedStyleSheets","plugins","shorthand","dateFormat","altFormat","push","monthSelectPlugin","resolve","HTMLElement","customElements","define","is"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;IAEMA,gB;;;;;AAOJ,8BAAc;AAAA;;AAAA;;AACZ;;AADY;;AAAA;AAEb;;;;SAED,eAAe;AACb,aAAO,KAAKC,YAAL,CAAkB,UAAlB,KAAiC,OAAxC;AACD,K,CAED;;;;WACA,sBAAa;AAAA;;AACX,UAAMC,OAAO,GAAG,EAAhB;AACA,UAAMC,MAAM,GAAG,CACb,UADa,CAAf;AAIA,WAAKC,iBAAL,GAAyBC,OAAzB,CAAiC,UAACC,IAAD,EAAU;AACzC,YAAIH,MAAM,CAACI,OAAP,CAAeD,IAAf,MAAyB,CAAC,CAA9B,EAAiC;AAC/B;AACD;;AAEDJ,QAAAA,OAAO,CAACI,IAAD,CAAP,GAAgB,MAAI,CAACL,YAAL,CAAkBK,IAAlB,CAAhB;AACD,OAND;AAQA,aAAOJ,OAAP;AACD;;;WAED,6BAAoB;AAAA;;AAClB,UAAMA,OAAO,GAAGM,IAAI,CAACC,KAAL,CAAW,KAAKR,YAAL,CAAkB,SAAlB,CAAX,CAAhB;AAEA,WAAKS,aAAL,CAAmBR,OAAnB,EAA4BS,IAA5B,CAAiC,UAACT,OAAD,EAAa;AAC5C,QAAA,MAAI,CAACU,QAAL,GAAgBC,SAAS,CACvB,MAAI,CAACC,aAAL,CAAmB,MAAI,CAACC,QAAxB,CADuB,EAEvBb,OAFuB,CAAzB;AAID,OALD;AAMD;;;WAED,uBAAcA,OAAd,EAAuB;AACrB,UAAIA,OAAO,CAACc,WAAZ,EAAyB;AACvB,eAAOC,OAAO,CAACC,GAAR,CAAY,CACfC,MAAM,UAAN,CAAc,kEAAd,CADe,EAEfA,MAAM,UAAN,CAAc,0CAAd,CAFe,CAAZ,EAIJR,IAJI,CAIC,UAACS,OAAD,EAAa;AACjB,cAAMC,UAAU,GAAGD,OAAO,CAAC,CAAD,CAAP,WAAnB,CADiB,CACsB;;AACvCE,UAAAA,QAAQ,CAACC,kBAAT,gCAAkCD,QAAQ,CAACC,kBAA3C,IAA+DF,UAA/D;AAEAnB,UAAAA,OAAO,CAACsB,OAAR,GAAkBtB,OAAO,CAACsB,OAAR,IAAmB,EAArC;;AAEA,cAAI,OAAOtB,OAAO,CAACc,WAAf,KAA+B,SAAnC,EAA8C;AAC5Cd,YAAAA,OAAO,CAACc,WAAR,GAAsB;AACpBS,cAAAA,SAAS,EAAE,IADS;AAEpBC,cAAAA,UAAU,EAAE,KAFQ;AAGpBC,cAAAA,SAAS,EAAE;AAHS,aAAtB;AAKD;;AAEDzB,UAAAA,OAAO,CAACsB,OAAR,CAAgBI,IAAhB,CACE,IAAIC,iBAAJ,CAAsB3B,OAAO,CAACc,WAA9B,CADF;AAIA,iBAAOd,OAAP;AACD,SAvBI,CAAP;AAwBD;;AAED,aAAOe,OAAO,CAACa,OAAR,CAAgB5B,OAAhB,CAAP;AACD;;;WAED,uBAAc;AACZ,aAAO,KAAKU,QAAZ;AACD;;;SA5ED,eAAgB;AACd,aAAO,eAAP;AACD;;;;iCAH4BmB,W;;AAgF/Bd,OAAO,CAACC,GAAR,CAAY,CACVC,MAAM,UAAN,CAAc,kDAAd,CADU,EAEVA,MAAM,UAAN,CAAc,0BAAd,CAFU,CAAZ,EAGGR,IAHH,CAGQ,UAACS,OAAD,EAAa;AACnB,MAAMC,UAAU,GAAGD,OAAO,CAAC,CAAD,CAAP,WAAnB,CADmB,CACoB;;AACvCE,EAAAA,QAAQ,CAACC,kBAAT,gCAAkCD,QAAQ,CAACC,kBAA3C,IAA+DF,UAA/D;AAEAW,EAAAA,cAAc,CAACC,MAAf,CAAsBjC,gBAAgB,CAACkC,EAAvC,EAA2ClC,gBAA3C;AACD,CARD","sourcesContent":["/**\n * Part of starter project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\nclass FlatpickrElement extends HTMLElement {\n  static get is() {\n    return 'uni-flatpickr';\n  }\n\n  instance;\n\n  constructor() {\n    super();\n  }\n\n  get selector() {\n    return this.getAttribute('selector') || 'input';\n  }\n\n  // todo: Currently not support single option attributes\n  getOptions() {\n    const options = {};\n    const ignore = [\n      'selector'\n    ];\n\n    this.getAttributeNames().forEach((name) => {\n      if (ignore.indexOf(name) !== -1) {\n        return;\n      }\n\n      options[name] = this.getAttribute(name);\n    });\n\n    return options;\n  }\n\n  connectedCallback() {\n    const options = JSON.parse(this.getAttribute('options'));\n\n    this.handleOptions(options).then((options) => {\n      this.instance = flatpickr(\n        this.querySelector(this.selector),\n        options\n      );\n    });\n  }\n\n  handleOptions(options) {\n    if (options.monthSelect) {\n      return Promise.all([\n          System.import('@flatpickr/plugins/monthSelect/index.js?dcffc8a3a09fd830ae43c569'),\n          System.import('@flatpickr/plugins/monthSelect/style.css'),\n        ])\n        .then((modules) => {\n          const styleSheet = modules[1].default; // A CSSStyleSheet object\n          document.adoptedStyleSheets = [...document.adoptedStyleSheets, styleSheet];\n\n          options.plugins = options.plugins || [];\n\n          if (typeof options.monthSelect === 'boolean') {\n            options.monthSelect = {\n              shorthand: true,\n              dateFormat: 'Y-m',\n              altFormat: 'Y-m'\n            };\n          }\n\n          options.plugins.push(\n            new monthSelectPlugin(options.monthSelect)\n          );\n\n          return options;\n        });\n    }\n\n    return Promise.resolve(options);\n  }\n\n  getInstance() {\n    return this.instance;\n  }\n}\n\nPromise.all([\n  System.import('@flatpickr/flatpickr.js?dcffc8a3a09fd830ae43c569'),\n  System.import('@flatpickr/flatpickr.css')\n]).then((modules) => {\n  const styleSheet = modules[1].default; // A CSSStyleSheet object\n  document.adoptedStyleSheets = [...document.adoptedStyleSheets, styleSheet];\n  \n  customElements.define(FlatpickrElement.is, FlatpickrElement);\n});\n"],"file":"flatpickr-components.js"}