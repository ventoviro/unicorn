{"version":3,"file":"flatpickr-components.js","mappings":"CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,SACb,GAAqB,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,OACP,CACJ,IAAIK,EAAIL,IACR,IAAI,IAAIM,KAAKD,GAAuB,iBAAZJ,QAAuBA,QAAUF,GAAMO,GAAKD,EAAEC,EACvE,CACA,CATD,CASGC,MAAM,I,m+DCFHC,EAAAA,SAAAA,I,mcAOJ,aAAc,M,MAAA,O,4FAAA,S,OAAA,G,EAAA,c,EAAA,EACZ,iB,sFADY,CAEb,C,4BARD,WACE,MAAO,eACR,K,uBAQD,WACE,OAAOC,KAAKC,aAAa,aAAe,OACzC,G,kBAED,WACE,OAAOD,KAAKC,aAAa,WAAa,EACvC,G,wBAGD,WAAa,WACLC,EAAU,CAAC,EACXC,EAAS,CACb,YAWF,OARAH,KAAKI,oBAAoBC,SAAQ,SAACC,IACF,IAA1BH,EAAOI,QAAQD,KAInBJ,EAAQI,GAAQ,EAAKL,aAAaK,GACnC,IAEMJ,CACR,G,+BAED,WAAoB,aACZA,EAAUM,KAAKC,MAAMT,KAAKC,aAAa,YAE7CD,KAAKU,cAAcR,GAASS,MAAK,SAACT,GAChC,EAAKU,SAAWC,UACd,EAAKC,cAAc,EAAKC,UACxBb,EAEH,IAED,UAAAF,KAAKc,cAAc,wBAAnB,SAAqCE,iBAAiB,SAAS,WAC7DC,YAAW,WACT,EAAKH,cAAc,gBAAgBI,OACpC,GAAE,EACJ,GACF,G,2BAED,SAAchB,GAAS,WACfiB,EAAW,GAajB,OAXIjB,EAAQkB,aACVD,EAASE,KACPC,EAAC,OAAQ,2CACTA,EAAEC,UAAU,6CAIZvB,KAAKwB,QACPL,EAASE,KAAKC,EAAC,OAAD,0BAA4BtB,KAAKwB,OAAjC,SAGZL,EAASM,OAAS,EACbC,QAAQC,IAAIR,GAChBR,MAAK,SAACiB,GAqBL,OApBI1B,EAAQkB,cACVlB,EAAQ2B,QAAU3B,EAAQ2B,SAAW,GAEF,kBAAxB3B,EAAQkB,cACjBlB,EAAQkB,YAAc,CACpBU,WAAW,EACXC,WAAY,MACZC,UAAW,QAIf9B,EAAQ2B,QAAQR,KACd,IAAIY,kBAAkB/B,EAAQkB,eAI9B,EAAKI,SACPtB,EAAQsB,OAAS,EAAKA,OAAOU,QAAQ,IAAK,MAGrChC,CACR,IAGEwB,QAAQS,QAAQjC,EACxB,G,yBAED,WACE,OAAOF,KAAKY,QACb,M,gFApGGb,C,EAAyBqC,c,OAuG/BV,QAAQC,IAAI,CACVL,EAAC,OAAQ,2BACTA,EAAC,OAAQ,8BACRX,MAAK,SAACiB,GACP,I,EAAMS,EAAaT,EAAQ,GAAR,QACnBU,SAASC,mBAAT,U,+CAAkCD,SAASC,qB,gkBAA3C,CAA+DF,IAE/Df,EAAEkB,oBAAoBzC,EAAiB0C,GAAI1C,EAC5C,I","sources":["webpack://@windwalker-io/unicorn/webpack/universalModuleDefinition","webpack://@windwalker-io/unicorn/./src/modules/ui/flatpickr-components.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","   \n                           \n  \n                                                   \n                          \n   \n\nclass FlatpickrElement extends HTMLElement {\n  static get is() {\n    return 'uni-flatpickr';\n  }\n\n  instance;\n\n  constructor() {\n    super();\n  }\n\n  get selector() {\n    return this.getAttribute('selector') || 'input';\n  }\n\n  get locale() {\n    return this.getAttribute('locale') || '';\n  }\n\n                                                         \n  getOptions() {\n    const options = {};\n    const ignore = [\n      'selector'\n    ];\n\n    this.getAttributeNames().forEach((name) => {\n      if (ignore.indexOf(name) !== -1) {\n        return;\n      }\n\n      options[name] = this.getAttribute(name);\n    });\n\n    return options;\n  }\n\n  connectedCallback() {\n    const options = JSON.parse(this.getAttribute('options'));\n\n    this.handleOptions(options).then((options) => {\n      this.instance = flatpickr(\n        this.querySelector(this.selector),\n        options\n      );\n    });\n\n    this.querySelector('[data-toggle]')?.addEventListener('click', () => {\n      setTimeout(() => {\n        this.querySelector('[data-input]').focus();\n      }, 0);\n    });\n  }\n\n  handleOptions(options) {\n    const promises = [];\n\n    if (options.monthSelect) {\n      promises.push(\n        u.import('@flatpickr/plugins/monthSelect/index.js'),\n        u.importCSS('@flatpickr/plugins/monthSelect/style.css')\n      );\n    }\n\n    if (this.locale) {\n      promises.push(u.import(`@flatpickr/l10n/${this.locale}.js`));\n    }\n\n    if (promises.length > 0) {\n      return Promise.all(promises)\n        .then((modules) => {\n          if (options.monthSelect) {\n            options.plugins = options.plugins || [];\n\n            if (typeof options.monthSelect === 'boolean') {\n              options.monthSelect = {\n                shorthand: true,\n                dateFormat: 'Y-m',\n                altFormat: 'Y-m'\n              };\n            }\n\n            options.plugins.push(\n              new monthSelectPlugin(options.monthSelect)\n            );\n          }\n\n          if (this.locale) {\n            options.locale = this.locale.replace(/-/, '_');\n          }\n\n          return options;\n        });\n    }\n\n    return Promise.resolve(options);\n  }\n\n  getInstance() {\n    return this.instance;\n  }\n}\n\nPromise.all([\n  u.import('@flatpickr/flatpickr.js'),\n  u.import('@flatpickr/flatpickr.css')\n]).then((modules) => {\n  const styleSheet = modules[1].default;                          \n  document.adoptedStyleSheets = [...document.adoptedStyleSheets, styleSheet];\n\n  u.defineCustomElement(FlatpickrElement.is, FlatpickrElement);\n});\n"],"names":["root","factory","exports","module","define","amd","a","i","self","FlatpickrElement","this","getAttribute","options","ignore","getAttributeNames","forEach","name","indexOf","JSON","parse","handleOptions","then","instance","flatpickr","querySelector","selector","addEventListener","setTimeout","focus","promises","monthSelect","push","u","importCSS","locale","length","Promise","all","modules","plugins","shorthand","dateFormat","altFormat","monthSelectPlugin","replace","resolve","HTMLElement","styleSheet","document","adoptedStyleSheets","defineCustomElement","is"],"sourceRoot":""}