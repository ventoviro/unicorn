!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(()=>(()=>{"use strict";var t={};(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);const e=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},r=function(t){return t};var n=Math.max;const o=function(t){return function(){return t}},i="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const a=i||c||Function("return this")(),s=a.Symbol;var l=Object.prototype,f=l.hasOwnProperty,p=l.toString,d=s?s.toStringTag:void 0;var y=Object.prototype.toString;var v=s?s.toStringTag:void 0;const h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=f.call(t,d),r=t[d];try{t[d]=void 0;var n=!0}catch(t){}var o=p.call(t);return n&&(e?t[d]=r:delete t[d]),o}(t):function(t){return y.call(t)}(t)},b=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},_=function(t){if(!b(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},m=a["__core-js_shared__"];var g,j=(g=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"";var O=Function.prototype.toString;var w=/^\[object .+?Constructor\]$/,x=Function.prototype,z=Object.prototype,S=x.toString,P=z.hasOwnProperty,A=RegExp("^"+S.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const E=function(t){return!(!b(t)||(e=t,j&&j in e))&&(_(t)?A:w).test(function(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},T=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return E(r)?r:void 0},k=function(){try{var t=T(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),F=k?function(t,e){return k(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;var L=Date.now;const M=(R=F,B=0,U=0,function(){var t=L(),e=16-(t-U);if(U=t,e>0){if(++B>=800)return arguments[0]}else B=0;return R.apply(void 0,arguments)});var R,B,U;const $=function(t,o){return M(function(t,r,o){return r=n(void 0===r?t.length-1:r,0),function(){for(var i=arguments,c=-1,u=n(i.length-r,0),a=Array(u);++c<u;)a[c]=i[r+c];c=-1;for(var s=Array(r+1);++c<r;)s[c]=i[c];return s[r]=o(a),e(t,this,s)}}(t,o,r),t+"")},q=function(t,e){return t===e||t!=t&&e!=e},C=function(t,e){for(var r=t.length;r--;)if(q(t[r][0],e))return r;return-1};var D=Array.prototype.splice;function I(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}I.prototype.clear=function(){this.__data__=[],this.size=0},I.prototype.delete=function(t){var e=this.__data__,r=C(e,t);return!(r<0||(r==e.length-1?e.pop():D.call(e,r,1),--this.size,0))},I.prototype.get=function(t){var e=this.__data__,r=C(e,t);return r<0?void 0:e[r][1]},I.prototype.has=function(t){return C(this.__data__,t)>-1},I.prototype.set=function(t,e){var r=this.__data__,n=C(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const H=I,N=T(a,"Map"),W=T(Object,"create");var G=Object.prototype.hasOwnProperty;var J=Object.prototype.hasOwnProperty;function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}V.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(W){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return G.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return W?void 0!==e[t]:J.call(e,t)},V.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=W&&void 0===e?"__lodash_hash_undefined__":e,this};const K=V,Q=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function X(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}X.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(N||H),string:new K}},X.prototype.delete=function(t){var e=Q(this,t).delete(t);return this.size-=e?1:0,e},X.prototype.get=function(t){return Q(this,t).get(t)},X.prototype.has=function(t){return Q(this,t).has(t)},X.prototype.set=function(t,e){var r=Q(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const Y=X;function Z(t){var e=this.__data__=new H(t);this.size=e.size}Z.prototype.clear=function(){this.__data__=new H,this.size=0},Z.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Z.prototype.get=function(t){return this.__data__.get(t)},Z.prototype.has=function(t){return this.__data__.has(t)},Z.prototype.set=function(t,e){var r=this.__data__;if(r instanceof H){var n=r.__data__;if(!N||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Y(n)}return r.set(t,e),this.size=r.size,this};const tt=Z,et=function(t,e,r){"__proto__"==e&&k?k(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},rt=function(t,e,r){(void 0!==r&&!q(t[e],r)||void 0===r&&!(e in t))&&et(t,e,r)},nt=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),c=i.length;c--;){var u=i[ot?c:++n];if(!1===e(o[u],u,o))break}return t};var ot,it="object"==typeof exports&&exports&&!exports.nodeType&&exports,ct=it&&"object"==typeof module&&module&&!module.nodeType&&module,ut=ct&&ct.exports===it?a.Buffer:void 0,at=ut?ut.allocUnsafe:void 0;const st=a.Uint8Array,lt=function(t,e){var r,n,o=e?(r=t.buffer,n=new r.constructor(r.byteLength),new st(n).set(new st(r)),n):t.buffer;return new t.constructor(o,t.byteOffset,t.length)};var ft=Object.create;const pt=function(){function t(){}return function(e){if(!b(e))return{};if(ft)return ft(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),dt=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object);var yt=Object.prototype;const vt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)},ht=function(t){return null!=t&&"object"==typeof t},bt=function(t){return ht(t)&&"[object Arguments]"==h(t)};var _t=Object.prototype,mt=_t.hasOwnProperty,gt=_t.propertyIsEnumerable,jt=bt(function(){return arguments}())?bt:function(t){return ht(t)&&mt.call(t,"callee")&&!gt.call(t,"callee")};const Ot=jt,wt=Array.isArray,xt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},zt=function(t){return null!=t&&xt(t.length)&&!_(t)};var St="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pt=St&&"object"==typeof module&&module&&!module.nodeType&&module,At=Pt&&Pt.exports===St?a.Buffer:void 0;const Et=(At?At.isBuffer:void 0)||function(){return!1};var Tt=Function.prototype,kt=Object.prototype,Ft=Tt.toString,Lt=kt.hasOwnProperty,Mt=Ft.call(Object);var Rt={};Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;var Bt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ut=Bt&&"object"==typeof module&&module&&!module.nodeType&&module,$t=Ut&&Ut.exports===Bt&&i.process,qt=function(){try{return Ut&&Ut.require&&Ut.require("util").types||$t&&$t.binding&&$t.binding("util")}catch(t){}}(),Ct=qt&&qt.isTypedArray;const Dt=Ct?function(t){return function(e){return t(e)}}(Ct):function(t){return ht(t)&&xt(t.length)&&!!Rt[h(t)]},It=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var Ht=Object.prototype.hasOwnProperty;const Nt=function(t,e,r){var n=t[e];Ht.call(t,e)&&q(n,r)&&(void 0!==r||e in t)||et(t,e,r)};var Wt=/^(?:0|[1-9]\d*)$/;const Gt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Wt.test(t))&&t>-1&&t%1==0&&t<e};var Jt=Object.prototype.hasOwnProperty;const Vt=function(t,e){var r=wt(t),n=!r&&Ot(t),o=!r&&!n&&Et(t),i=!r&&!n&&!o&&Dt(t),c=r||n||o||i,u=c?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],a=u.length;for(var s in t)!e&&!Jt.call(t,s)||c&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Gt(s,a))||u.push(s);return u};var Kt=Object.prototype.hasOwnProperty;const Qt=function(t){if(!b(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=vt(t),r=[];for(var n in t)("constructor"!=n||!e&&Kt.call(t,n))&&r.push(n);return r},Xt=function(t){return zt(t)?Vt(t,!0):Qt(t)},Yt=function(t){return function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,c=e.length;++i<c;){var u=e[i],a=n?n(r[u],t[u],u,r,t):void 0;void 0===a&&(a=t[u]),o?et(r,u,a):Nt(r,u,a)}return r}(t,Xt(t))},Zt=function(t,e,r,n,o,i,c){var u=It(t,r),a=It(e,r),s=c.get(a);if(s)rt(t,r,s);else{var l=i?i(u,a,r+"",t,e,c):void 0,f=void 0===l;if(f){var p=wt(a),d=!p&&Et(a),y=!p&&!d&&Dt(a);l=a,p||d||y?wt(u)?l=u:function(t){return ht(t)&&zt(t)}(u)?l=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(u):d?(f=!1,l=function(t,e){if(e)return t.slice();var r=t.length,n=at?at(r):new t.constructor(r);return t.copy(n),n}(a,!0)):y?(f=!1,l=lt(a,!0)):l=[]:function(t){if(!ht(t)||"[object Object]"!=h(t))return!1;var e=dt(t);if(null===e)return!0;var r=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Ft.call(r)==Mt}(a)||Ot(a)?(l=u,Ot(u)?l=Yt(u):b(u)&&!_(u)||(l=function(t){return"function"!=typeof t.constructor||vt(t)?{}:pt(dt(t))}(a))):f=!1}f&&(c.set(a,l),o(l,a,n,i,c),c.delete(a)),rt(t,r,l)}},te=function t(e,r,n,o,i){e!==r&&nt(r,(function(c,u){if(i||(i=new tt),b(c))Zt(e,r,u,n,t,o,i);else{var a=o?o(It(e,u),c,u+"",e,r,i):void 0;void 0===a&&(a=c),rt(e,u,a)}}),Xt)},ee=function t(e,r,n,o,i,c){return b(e)&&b(r)&&(c.set(r,e),te(e,r,void 0,t,c),c.delete(r)),e},re=(ne=function(t,e,r,n){te(t,e,r,n)},$((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=ne.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!b(r))return!1;var n=typeof e;return!!("number"==n?zt(r)&&Gt(e,r.length):"string"==n&&e in r)&&q(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var c=e[r];c&&ne(t,c,r,o)}return t})));var ne;const oe=$((function(t){return t.push(void 0,ee),e(re,void 0,t)}));function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ae(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function se(t){var e="function"==typeof Map?new Map:void 0;return se=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return le(t,arguments,de(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pe(n,t)},se(t)}function le(t,e,r){return le=fe()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&pe(o,r.prototype),o},le.apply(null,arguments)}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pe(t,e){return pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pe(t,e)}function de(t){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},de(t)}var ye,ve,he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pe(t,e)}(c,t);var e,r,n,o,i=(e=c,r=fe(),function(){var t,n=de(e);if(r){var o=de(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return ae(this,t)});function c(){return ce(this,c),i.apply(this,arguments)}return n=c,o=[{key:"template",value:function(){var t,e;return'\n<div class="modal fade c-unicorn-iframe-modal" id="'.concat(null===(t=this.options)||void 0===t?void 0:t.id,'"\n    data-iframe-modal>\n    <div class="modal-dialog ').concat((null===(e=this.options)||void 0===e?void 0:e.size)||"modal-xl",'">\n        <div class="modal-content">\n            <div class="modal-body">\n                <iframe class="c-unicorn-iframe-modal__iframe" width="100%" src="" frameborder="0"></iframe>\n            </div>\n        </div>\n    </div>\n</div>')}},{key:"selector",get:function(){return this.getAttribute("selector")||"[data-iframe-modal]"}},{key:"connectedCallback",value:function(){var t=this;this.options=JSON.parse(this.getAttribute("options")||"{}"),this.innerHTML.trim()||(this.innerHTML=this.template()),this.modalElement=this.querySelector(this.selector),this.modal=new bootstrap.Modal(this.modalElement),this.iframe=this.modalElement.querySelector("iframe"),this.iframe.modalLink=function(){return t},this.bindEvents()}},{key:"bindEvents",value:function(){var t=this;this.modalElement.addEventListener("hidden.bs.modal",(function(){t.iframe.src=""}))}},{key:"open",value:function(t){var e,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((n=oe(n,this.options,{height:null,resize:!1,size:"modal-lg"})).resize?this.iframe.addEventListener("load",e=function(){r.resize(r.iframe),r.iframe.removeEventListener("load",e)}):this.iframe.style.height=n.height||"500px",null!=n.size){var o=this.modalElement.querySelector(".modal-dialog");o.classList.remove("modal-lg","modal-xl","modal-sm","modal-xs"),o.classList.add(n.size)}this.iframe.src=t,this.modal.show()}},{key:"close",value:function(){this.modal.hide(),this.iframe.src=""}},{key:"resize",value:function(t){setTimeout((function(){var e=t.contentWindow.document.documentElement.scrollHeight;e<500&&(e=500),t.style.height=e+"px"}),30)}}],o&&ue(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),c}(se(HTMLElement));return ve="uni-iframe-modal","is"in(ye=he)?Object.defineProperty(ye,"is",{value:ve,enumerable:!0,configurable:!0,writable:!0}):ye.is=ve,u.defineCustomElement(he.is,he),u.directive("modal-link",{mounted:function(t,e){var r={};r.resize=t.dataset.resize,r.size=t.dataset.size;var n=e.value;t.style.pointerEvents=null,t.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var o=document.querySelector(n);o&&(t.src?o.open(t.src,r):t.href&&o.open(t.href,r))}))}}),t})()));
//# sourceMappingURL=iframe-modal.js.map