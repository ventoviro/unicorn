!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(()=>(()=>{"use strict";var t={};(t=>{void 0!==s&&s.toStringTag&&Object.defineProperty(t,s.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);const e=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},r=function(t){return t};var n=Math.max;const o=function(t){return function(){return t}},i="object"==typeof global&&global&&global.Object===Object&&global;var a="object"==typeof self&&self&&self.Object===Object&&self;const c=i||a||Function("return this")();var s=c.Symbol;const l=s;var f=Object.prototype,p=f.hasOwnProperty,d=f.toString,h=l?l.toStringTag:void 0;var v=Object.prototype.toString;var y=l?l.toStringTag:void 0;const b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?function(t){var e=p.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var o=d.call(t);return n&&(e?t[h]=r:delete t[h]),o}(t):function(t){return v.call(t)}(t)},_=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},m=function(t){if(!_(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},g=c["__core-js_shared__"];var j,O=(j=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"";var w=Function.prototype.toString;var z=/^\[object .+?Constructor\]$/,x=Function.prototype,A=Object.prototype,E=x.toString,S=A.hasOwnProperty,P=RegExp("^"+E.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const T=function(t){return!(!_(t)||(e=t,O&&O in e))&&(m(t)?P:z).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},L=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return T(r)?r:void 0},F=function(){try{var t=L(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),M=F?function(t,e){return F(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;var $=Date.now;const k=(U=M,q=0,B=0,function(){var t=$(),e=16-(t-B);if(B=t,e>0){if(++q>=800)return arguments[0]}else q=0;return U.apply(void 0,arguments)});var U,q,B;const I=function(t,o){return k(function(t,r,o){return r=n(void 0===r?t.length-1:r,0),function(){for(var i=arguments,a=-1,c=n(i.length-r,0),s=Array(c);++a<c;)s[a]=i[r+a];a=-1;for(var u=Array(r+1);++a<r;)u[a]=i[a];return u[r]=o(s),e(t,this,u)}}(t,o,r),t+"")},C=function(t,e){return t===e||t!=t&&e!=e},D=function(t,e){for(var r=t.length;r--;)if(C(t[r][0],e))return r;return-1};var H=Array.prototype.splice;function N(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():H.call(e,r,1),--this.size,0))},N.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},N.prototype.has=function(t){return D(this.__data__,t)>-1},N.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const R=N,W=L(c,"Map"),G=L(Object,"create");var J=Object.prototype.hasOwnProperty;var V=Object.prototype.hasOwnProperty;function K(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}K.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},K.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},K.prototype.get=function(t){var e=this.__data__;if(G){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return J.call(e,t)?e[t]:void 0},K.prototype.has=function(t){var e=this.__data__;return G?void 0!==e[t]:V.call(e,t)},K.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=G&&void 0===e?"__lodash_hash_undefined__":e,this};const Q=K,X=function(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function Y(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Y.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(W||R),string:new Q}},Y.prototype.delete=function(t){var e=X(this,t).delete(t);return this.size-=e?1:0,e},Y.prototype.get=function(t){return X(this,t).get(t)},Y.prototype.has=function(t){return X(this,t).has(t)},Y.prototype.set=function(t,e){var r=X(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const Z=Y;function tt(t){var e=this.__data__=new R(t);this.size=e.size}tt.prototype.clear=function(){this.__data__=new R,this.size=0},tt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},tt.prototype.get=function(t){return this.__data__.get(t)},tt.prototype.has=function(t){return this.__data__.has(t)},tt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof R){var n=r.__data__;if(!W||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Z(n)}return r.set(t,e),this.size=r.size,this};const et=tt,rt=function(t,e,r){"__proto__"==e&&F?F(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},nt=function(t,e,r){(void 0!==r&&!C(t[e],r)||void 0===r&&!(e in t))&&rt(t,e,r)},ot=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var c=i[it?a:++n];if(!1===e(o[c],c,o))break}return t};var it,at="object"==typeof exports&&exports&&!exports.nodeType&&exports,ct=at&&"object"==typeof module&&module&&!module.nodeType&&module,st=ct&&ct.exports===at?c.Buffer:void 0,ut=st?st.allocUnsafe:void 0;const lt=c.Uint8Array,ft=function(t,e){var r,n,o=e?(r=t.buffer,n=new r.constructor(r.byteLength),new lt(n).set(new lt(r)),n):t.buffer;return new t.constructor(o,t.byteOffset,t.length)};var pt=Object.create;const dt=function(){function t(){}return function(e){if(!_(e))return{};if(pt)return pt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ht=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object);var vt=Object.prototype;const yt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||vt)},bt=function(t){return null!=t&&"object"==typeof t},_t=function(t){return bt(t)&&"[object Arguments]"==b(t)};var mt=Object.prototype,gt=mt.hasOwnProperty,jt=mt.propertyIsEnumerable,Ot=_t(function(){return arguments}())?_t:function(t){return bt(t)&&gt.call(t,"callee")&&!jt.call(t,"callee")};const wt=Ot,zt=Array.isArray,xt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},At=function(t){return null!=t&&xt(t.length)&&!m(t)};var Et="object"==typeof exports&&exports&&!exports.nodeType&&exports,St=Et&&"object"==typeof module&&module&&!module.nodeType&&module,Pt=St&&St.exports===Et?c.Buffer:void 0;const Tt=(Pt?Pt.isBuffer:void 0)||function(){return!1};var Lt=Function.prototype,Ft=Object.prototype,Mt=Lt.toString,$t=Ft.hasOwnProperty,kt=Mt.call(Object);var Ut={};Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=!0,Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object Boolean]"]=Ut["[object DataView]"]=Ut["[object Date]"]=Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object WeakMap]"]=!1;var qt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bt=qt&&"object"==typeof module&&module&&!module.nodeType&&module,It=Bt&&Bt.exports===qt&&i.process,Ct=function(){try{return Bt&&Bt.require&&Bt.require("util").types||It&&It.binding&&It.binding("util")}catch(t){}}(),Dt=Ct&&Ct.isTypedArray;const Ht=Dt?function(t){return function(e){return t(e)}}(Dt):function(t){return bt(t)&&xt(t.length)&&!!Ut[b(t)]},Nt=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var Rt=Object.prototype.hasOwnProperty;const Wt=function(t,e,r){var n=t[e];Rt.call(t,e)&&C(n,r)&&(void 0!==r||e in t)||rt(t,e,r)};var Gt=/^(?:0|[1-9]\d*)$/;const Jt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Gt.test(t))&&t>-1&&t%1==0&&t<e};var Vt=Object.prototype.hasOwnProperty;const Kt=function(t,e){var r=zt(t),n=!r&&wt(t),o=!r&&!n&&Tt(t),i=!r&&!n&&!o&&Ht(t),a=r||n||o||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=c.length;for(var u in t)!e&&!Vt.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Jt(u,s))||c.push(u);return c};var Qt=Object.prototype.hasOwnProperty;const Xt=function(t){if(!_(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=yt(t),r=[];for(var n in t)("constructor"!=n||!e&&Qt.call(t,n))&&r.push(n);return r},Yt=function(t){return At(t)?Kt(t,!0):Xt(t)},Zt=function(t){return function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],s=n?n(r[c],t[c],c,r,t):void 0;void 0===s&&(s=t[c]),o?rt(r,c,s):Wt(r,c,s)}return r}(t,Yt(t))},te=function(t,e,r,n,o,i,a){var c=Nt(t,r),s=Nt(e,r),u=a.get(s);if(u)nt(t,r,u);else{var l=i?i(c,s,r+"",t,e,a):void 0,f=void 0===l;if(f){var p=zt(s),d=!p&&Tt(s),h=!p&&!d&&Ht(s);l=s,p||d||h?zt(c)?l=c:function(t){return bt(t)&&At(t)}(c)?l=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(c):d?(f=!1,l=function(t,e){if(e)return t.slice();var r=t.length,n=ut?ut(r):new t.constructor(r);return t.copy(n),n}(s,!0)):h?(f=!1,l=ft(s,!0)):l=[]:function(t){if(!bt(t)||"[object Object]"!=b(t))return!1;var e=ht(t);if(null===e)return!0;var r=$t.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Mt.call(r)==kt}(s)||wt(s)?(l=c,wt(c)?l=Zt(c):_(c)&&!m(c)||(l=function(t){return"function"!=typeof t.constructor||yt(t)?{}:dt(ht(t))}(s))):f=!1}f&&(a.set(s,l),o(l,s,n,i,a),a.delete(s)),nt(t,r,l)}},ee=function t(e,r,n,o,i){e!==r&&ot(r,(function(a,c){if(i||(i=new et),_(a))te(e,r,c,n,t,o,i);else{var s=o?o(Nt(e,c),a,c+"",e,r,i):void 0;void 0===s&&(s=a),nt(e,c,s)}}),Yt)},re=function t(e,r,n,o,i,a){return _(e)&&_(r)&&(a.set(r,e),ee(e,r,void 0,t,a),a.delete(r)),e},ne=(oe=function(t,e,r,n){ee(t,e,r,n)},I((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=oe.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!_(r))return!1;var n=typeof e;return!!("number"==n?At(r)&&Jt(e,r.length):"string"==n&&e in r)&&C(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&oe(t,a,r,o)}return t})));var oe;const ie=I((function(t){return t.push(void 0,re),e(ne,void 0,t)}));class ae extends HTMLElement{template(){var t,e;return`\n<div class="modal fade c-unicorn-iframe-modal" id="${null===(t=this.options)||void 0===t?void 0:t.id}"\n    data-iframe-modal>\n    <div class="modal-dialog ${(null===(e=this.options)||void 0===e?void 0:e.size)||"modal-xl"}">\n        <div class="modal-content">\n            <div class="modal-body">\n                <iframe class="c-unicorn-iframe-modal__iframe" width="100%" src="" frameborder="0"></iframe>\n            </div>\n        </div>\n    </div>\n</div>`}get selector(){return this.getAttribute("selector")||"[data-iframe-modal]"}connectedCallback(){this.options=JSON.parse(this.getAttribute("options")||"{}"),this.innerHTML.trim()||(this.innerHTML=this.template()),this.modalElement=this.querySelector(this.selector),this.modal=new bootstrap.Modal(this.modalElement),this.iframe=this.modalElement.querySelector("iframe"),this.iframe.modalLink=()=>this,this.bindEvents()}bindEvents(){this.modalElement.addEventListener("hidden.bs.modal",(()=>{this.iframe.src=""}))}open(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=ie(e,this.options,{height:null,resize:!1,size:"modal-lg"}),e.resize){let t;this.iframe.addEventListener("load",t=()=>{this.resize(this.iframe),this.iframe.removeEventListener("load",t)})}else this.iframe.style.height=e.height||"500px";if(null!=e.size){const t=this.modalElement.querySelector(".modal-dialog");t.classList.remove("modal-lg","modal-xl","modal-sm","modal-xs"),t.classList.add(e.size)}this.iframe.src=t,this.modal.show()}close(){this.modal.hide(),this.iframe.src=""}resize(t){setTimeout((()=>{let e=t.contentWindow.document.documentElement.scrollHeight;e<500&&(e=500),t.style.height=e+"px"}),30)}}var ce,se;return se="uni-iframe-modal","is"in(ce=ae)?Object.defineProperty(ce,"is",{value:se,enumerable:!0,configurable:!0,writable:!0}):ce.is=se,u.defineCustomElement(ae.is,ae),u.directive("modal-link",{mounted(t,e){let r={};r.resize=t.dataset.resize,r.size=t.dataset.size;const n=e.value;t.style.pointerEvents=null,t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const o=document.querySelector(n);o&&(t.src?o.open(t.src,r):t.href&&o.open(t.href,r))}))}}),t})()));
//# sourceMappingURL=iframe-modal.js.map