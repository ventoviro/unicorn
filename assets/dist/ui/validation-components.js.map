{"version":3,"sources":["ui/validation-components.js"],"names":["handlers","UnicornFormValidateElement","registerDefaultValidators","scroll","getAttribute","Number","attributes","scrollOffset","fieldSelector","$form","querySelector","setAttribute","addEventListener","containsPresets","inputs","u","selectAll","querySelectorAll","push","presetFields","fields","markFormAsUnvalidated","findFields","firstFail","forEach","field","result","checkValidity","markFormAsValidated","scrollTo","element","offset","elementPosition","getBoundingClientRect","top","offsetPosition","window","pageYOffset","behavior","classList","add","remove","name","hasOwnProperty","addValidator","validator","options","validators","handler","HTMLElement","UnicornFieldValidateElement","oldValue","newValue","selectInput","getForm","$input","selector","bindEvents","errorClass","getComputedStyle","position","style","e","showResponse","events","split","map","trim","filter","eventName","setCustomValidity","runCustomValidity","valid","validates","help","value","length","i","notice","validationMessage","$help","document","createElement","state","validity","textContent","parentNode","insertBefore","nextSibling","closest","camelTo","str","sep","replace","toLowerCase","username","regex","RegExp","test","numeric","email","punycode","toASCII","url","alnum","color","creditcard","ip","attr","target","$","val","customElements","define","is"],"mappings":"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","sourcesContent":["/**\n * Part of starter project.\n *\n * @copyright  Copyright (C) 2021 __ORGANIZATION__.\n * @license    __LICENSE__\n */\n\n(() => {\n  /**\n   * Default handlers\n   *\n   * @type {Object}\n   */\n  const handlers = {};\n\n  /**\n   * UnicornFormValidateElement\n   */\n  class UnicornFormValidateElement extends HTMLElement {\n    presetFields = [];\n    validators = {};\n    $form;\n\n    static is = 'uni-form-validate';\n\n    constructor() {\n      super();\n\n      this.registerDefaultValidators();\n    }\n\n    get scrollEnabled() {\n      const scroll = this.getAttribute('scroll');\n\n      return scroll && scroll !== 'false';\n    }\n\n    get scrollOffset() {\n      return Number(this.getAttribute('scroll-offset'));\n    }\n\n    get fieldSelector() {\n      //\n    }\n\n    connectedCallback() {\n      this.scroll = this.attributes['scroll'] || true;\n      this.scrollOffset = this.attributes['scroll-offset'] || -100;\n      this.fieldSelector = this.attributes['field-selector'] || 'uni-field-validate';\n      this.$form = this.querySelector('form');\n\n      if (this.$form) {\n        this.$form.setAttribute('novalidate', true);\n\n        this.$form.addEventListener('submit', () => {\n\n        });\n      }\n    }\n\n    findFields(containsPresets = true) {\n      const inputs = u.selectAll(this.$form.querySelectorAll(this.fieldSelector));\n\n      if (containsPresets) {\n        inputs.push(...this.presetFields);\n      }\n\n      return inputs;\n    }\n\n    validateAll(fields = null) {\n      this.markFormAsUnvalidated();\n\n      fields = fields || this.findFields();\n      let firstFail = null;\n\n      fields.forEach((field) => {\n        const result = field.checkValidity();\n\n        if (!result && !firstFail) {\n          firstFail = field;\n        }\n      });\n\n      this.markFormAsValidated();\n\n      if (firstFail && this.scroll && this.scroll !== 'false') {\n        this.scrollTo(firstFail)\n      }\n\n      return firstFail === null;\n    }\n\n    scrollTo(element) {\n      const offset = this.scrollOffset;\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.pageYOffset + offset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n\n    markFormAsValidated() {\n      this.$form.classList.add('was-validated');\n    }\n\n    markFormAsUnvalidated() {\n      this.$form.classList.remove('was-validated');\n    }\n\n    addField(field) {\n      this.presetFields.push(field);\n      return this;\n    }\n\n    registerDefaultValidators() {\n      for (let name in handlers) {\n        if (handlers.hasOwnProperty(name)) {\n          this.addValidator(name, handlers[name]);\n        }\n      }\n    }\n\n    /**\n     * Add validator handler.\n     *\n     * @param name\n     * @param validator\n     * @param options\n     * @returns {UnicornFormValidateElement}\n     */\n    addValidator(name, validator, options) {\n      options = options || {};\n\n      this.validators[name] = {\n        handler: validator,\n        options: options\n      };\n\n      return this;\n    }\n  }\n\n  /**\n   * UnicornFieldValidateElement\n   */\n  class UnicornFieldValidateElement extends HTMLElement {\n    $input;\n\n    static is = 'uni-field-validate';\n\n    constructor() {\n      super();\n    }\n\n    static get observedAttributes() {\n      return [\n        'selector',\n      ]\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n      switch (name) {\n        case 'selector':\n          this.selectInput();\n          break;\n      }\n    }\n\n    get $form() {\n      return this.getForm();\n    }\n\n    get errorClass() {\n      return this.getAttribute('error-class') || 'invalid-tooltip';\n    }\n\n    get selector() {\n      return this.getAttribute('selector') || 'input, select, textarea';\n    }\n\n    selectInput() {\n      return this.$input = this.querySelector(this.selector);\n    }\n\n    connectedCallback() {\n      this.selectInput();\n\n      this.bindEvents();\n\n      if (this.errorClass === 'invalid-tooltip') {\n        if (window.getComputedStyle(this).position === 'static') {\n          this.style.position = 'relative';\n        }\n      }\n    }\n\n    bindEvents() {\n      this.$input.addEventListener('invalid', (e) => {\n        this.showResponse();\n      });\n\n      const events = this.attributes['events'] || 'change';\n\n      events.split(',')\n        .map(e => e.trim())\n        .filter(e => e !== '')\n        .forEach((eventName) => {\n          this.$input.addEventListener(eventName, () => {\n            this.checkValidity();\n          });\n        });\n    }\n\n    checkValidity() {\n      this.$input.classList.remove('is-invalid');\n      this.$input.classList.remove('is-valid');\n\n      this.$input.setCustomValidity('');\n\n      if (this.$form) {\n        this.runCustomValidity();\n      }\n\n      const valid = this.$input.checkValidity();\n\n      if (valid) {\n        this.$input.classList.add('is-valid');\n      } else {\n        this.$input.classList.add('is-invalid');\n      }\n\n      return valid;\n    }\n\n    runCustomValidity() {\n      // Check custom validity\n      const validates = (this.$input.getAttribute('data-validate') || '').split('|');\n      let help;\n      let result = true;\n\n      if (this.$input.value !== '' && validates.length) {\n        for (let i in validates) {\n          const validator = this.$form.validators[validates[i]];\n          if (validator && !validator.handler(this.$input.value, this.$input)) {\n            help = validator.options.notice;\n\n            if (typeof help === 'function') {\n              help = help(this.$input, this);\n            }\n\n            if (help != null) {\n              this.$input.setCustomValidity(help);\n            }\n\n            if (this.$input.validationMessage === '') {\n              this.$input.setCustomValidity('Value type mismatch');\n            }\n\n            result = false;\n\n            break;\n          }\n        }\n      }\n\n      return result;\n    }\n\n    showResponse() {\n      const $input = this.$input;\n      const $help = document.createElement('div');\n      const state = $input.validity;\n      const errorClass = this.attributes['error-class'] || 'invalid-tooltip';\n\n      this.querySelector(`.${errorClass}`)?.remove();\n\n      if (state.valid) {\n        return;\n      }\n\n      $help.textContent = $input.validationMessage;\n\n      $help.classList.add(errorClass);\n\n      $input.parentNode.insertBefore($help, $input.nextSibling);\n    }\n\n    getForm() {\n      return this.closest(this.attributes['form-selector'] || 'uni-form-validate');\n    }\n  }\n\n  function camelTo(str, sep) {\n    return str.replace(/([a-z])([A-Z])/g, `$1${sep}$2`).toLowerCase();\n  }\n\n  handlers.username = function(value, element) {\n    const regex = new RegExp(\"[\\<|\\>|\\\"|\\'|\\%|\\;|\\(|\\)|\\&]\", \"i\");\n    return !regex.test(value);\n  };\n\n  handlers.numeric = function(value, element) {\n    const regex = /^(\\d|-)?(\\d|,)*\\.?\\d*$/;\n    return regex.test(value);\n  };\n\n  handlers.email = function(value, element) {\n    value = punycode.toASCII(value);\n    const regex = /^[a-zA-Z0-9.!#$%&â€™*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n    return regex.test(value);\n  };\n\n  handlers.url = function(value, element) {\n    const regex = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i;\n    return regex.test(value);\n  };\n\n  handlers.alnum = function(value, element) {\n    const regex = /^[a-zA-Z0-9]*$/;\n    return regex.test(value);\n  };\n\n  handlers.color = function(value, element) {\n    const regex = /^#(?:[0-9a-f]{3}){1,2}$/;\n    return regex.test(value);\n  };\n\n  /**\n   * @see  http://www.virtuosimedia.com/dev/php/37-tested-php-perl-and-javascript-regular-expressions\n   */\n  handlers.creditcard = function(value, element) {\n    const regex = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6011[0-9]{12}|622((12[6-9]|1[3-9][0-9])|([2-8][0-9][0-9])|(9(([0-1][0-9])|(2[0-5]))))[0-9]{10}|64[4-9][0-9]{13}|65[0-9]{14}|3(?:0[0-5]|[68][0-9])[0-9]{11}|3[47][0-9]{13})*$/;\n    return regex.test(value);\n  };\n\n  handlers.ip = function(value, element) {\n    const regex = /^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))*$/;\n    return regex.test(value);\n  };\n\n  handlers['password-confirm'] = function (value, element) {\n    const selector = element.attr('data-confirm-target');\n    const target = $(selector);\n\n    return target.val() === value;\n  };\n\n  customElements.define(UnicornFormValidateElement.is, UnicornFormValidateElement);\n  customElements.define(UnicornFieldValidateElement.is, UnicornFieldValidateElement);\n\n  window.UnicornFormValidateElement = UnicornFormValidateElement;\n  window.UnicornFieldValidateElement = UnicornFieldValidateElement;\n})();\n"],"file":"validation-components.js"}