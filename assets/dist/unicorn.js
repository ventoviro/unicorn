!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Unicorn=e():t.Unicorn=e()}(self,(()=>(()=>{var t={255:(t,e,r)=>{"use strict";var n=r(460),o=r(633),i=r(821),s=r(826);t.exports=s||n.call(i,o)},633:t=>{"use strict";t.exports=Function.prototype.apply},821:t=>{"use strict";t.exports=Function.prototype.call},889:(t,e,r)=>{"use strict";var n=r(460),o=r(2),i=r(821),s=r(255);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new o("a function is required");return s(n,i,t)}},826:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},553:(t,e,r)=>{"use strict";var n=r(894),o=r(889),i=o([n("%String.prototype.indexOf%")]);t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o([r]):r}},781:(t,e,r)=>{"use strict";var n,o=r(889),i=r(906);try{n=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var s=!!n&&i&&i(Object.prototype,"__proto__"),a=Object,c=a.getPrototypeOf;t.exports=s&&"function"==typeof s.get?o([s.get]):"function"==typeof c&&function(t){return c(null==t?t:a(t))}},526:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},96:t=>{"use strict";t.exports=EvalError},52:t=>{"use strict";t.exports=Error},49:t=>{"use strict";t.exports=RangeError},977:t=>{"use strict";t.exports=ReferenceError},873:t=>{"use strict";t.exports=SyntaxError},2:t=>{"use strict";t.exports=TypeError},621:t=>{"use strict";t.exports=URIError},983:t=>{"use strict";t.exports=Object},552:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(t){for(var e=[],r=1,n=0;r<t.length;r+=1,n+=1)e[n]=t[r];return e}(arguments),a=r(0,o.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(i=Function("binder","return function ("+function(t){for(var e="",r=0;r<t.length;r+=1)e+=t[r],r+1<t.length&&(e+=",");return e}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,n(s,arguments));return Object(e)===e?e:this}return o.apply(t,n(s,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i}},460:(t,e,r)=>{"use strict";var n=r(552);t.exports=Function.prototype.bind||n},894:(t,e,r)=>{"use strict";var n,o=r(983),i=r(52),s=r(96),a=r(49),c=r(977),u=r(873),l=r(2),p=r(621),d=r(105),f=r(299),h=r(243),y=r(465),m=r(587),g=Function,b=function(t){try{return g('"use strict"; return ('+t+").constructor;")()}catch(t){}},v=r(906),w=r(526),A=function(){throw new l},_=v?function(){try{return A}catch(t){try{return v(arguments,"callee").get}catch(t){return A}}}():A,S=r(40)(),j=r(781),E="function"==typeof Reflect&&Reflect.getPrototypeOf||o.getPrototypeOf||j,O=r(633),x=r(821),k={},P="undefined"!=typeof Uint8Array&&E?E(Uint8Array):n,C={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":S&&E?E([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&E?E(E([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&E?E((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":o,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&E?E((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&E?E(""[Symbol.iterator]()):n,"%Symbol%":S?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":_,"%TypedArray%":P,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":O,"%Object.defineProperty%":w,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":y,"%Math.pow%":m};if(E)try{null.error}catch(t){var I=E(E(t));C["%Error.prototype%"]=I}var $=function t(e){var r;if("%AsyncFunction%"===e)r=b("async function () {}");else if("%GeneratorFunction%"===e)r=b("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=b("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&E&&(r=E(o.prototype))}return C[e]=r,r},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(460),M=r(204),F=T.call(x,Array.prototype.concat),R=T.call(O,Array.prototype.splice),L=T.call(x,String.prototype.replace),N=T.call(x,String.prototype.slice),U=T.call(x,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,W=function(t,e){var r,n=t;if(M(D,n)&&(n="%"+(r=D[n])[0]+"%"),M(C,n)){var o=C[n];if(o===k&&(o=$(n)),void 0===o&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new u("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===U(/^%?[^%]*%?$/,t))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=N(t,0,1),r=N(t,-1);if("%"===e&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return L(t,B,(function(t,e,r,o){n[n.length]=r?L(o,q,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=W("%"+n+"%",e),i=o.name,s=o.value,a=!1,c=o.alias;c&&(n=c[0],R(r,F([0,1],c)));for(var p=1,d=!0;p<r.length;p+=1){var f=r[p],h=N(f,0,1),y=N(f,-1);if(('"'===h||"'"===h||"`"===h||'"'===y||"'"===y||"`"===y)&&h!==y)throw new u("property names with quotes must have matching quotes");if("constructor"!==f&&d||(a=!0),M(C,i="%"+(n+="."+f)+"%"))s=C[i];else if(null!=s){if(!(f in s)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(v&&p+1>=r.length){var m=v(s,f);s=(d=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[f]}else d=M(s,f),s=s[f];d&&!a&&(C[i]=s)}}return s}},262:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},906:(t,e,r)=>{"use strict";var n=r(262);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},40:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(674);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},674:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},204:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(460);t.exports=i.call(n,o)},105:t=>{"use strict";t.exports=Math.abs},299:t=>{"use strict";t.exports=Math.floor},243:t=>{"use strict";t.exports=Math.max},465:t=>{"use strict";t.exports=Math.min},587:t=>{"use strict";t.exports=Math.pow},458:(t,e,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,g=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,w=String.prototype.toUpperCase,A=String.prototype.toLowerCase,_=RegExp.prototype.test,S=Array.prototype.concat,j=Array.prototype.join,E=Array.prototype.slice,O=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,$=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function T(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||_.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-O(-t):O(t);if(n!==t){var o=String(n),i=b.call(e,o.length+1);return v.call(o,r,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,r,"$&_")}var M=r(967),F=M.custom,R=H(F)?F:null,L={__proto__:null,double:'"',single:"'"},N={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function U(t,e,r){var n=r.quoteStyle||e,o=L[n];return o+t+o}function B(t){return v.call(String(t),/"/g,"&quot;")}function q(t){return!("[object Array]"!==G(t)||I&&"object"==typeof t&&I in t)}function W(t){return!("[object RegExp]"!==G(t)||I&&"object"==typeof t&&I in t)}function H(t){if(C)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,o,a){var c=n||{};if(V(c,"quoteStyle")&&!V(L,c.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!V(c,"customInspect")||c.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Q(e,c);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var _=String(e);return w?T(e,_):_}if("bigint"==typeof e){var O=String(e)+"n";return w?T(e,O):O}var k=void 0===c.depth?5:c.depth;if(void 0===o&&(o=0),o>=k&&k>0&&"object"==typeof e)return q(e)?"[Array]":"[Object]";var F,N=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=j.call(Array(t.indent+1)," ")}return{base:r,prev:j.call(Array(e+1),r)}}(c,o);if(void 0===a)a=[];else if(K(a,e)>=0)return"[Circular]";function z(e,r,n){if(r&&(a=E.call(a)).push(r),n){var i={depth:c.depth};return V(c,"quoteStyle")&&(i.quoteStyle=c.quoteStyle),t(e,i,o+1,a)}return t(e,c,o+1,a)}if("function"==typeof e&&!W(e)){var J=function(t){if(t.name)return t.name;var e=g.call(m.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),rt=et(e,z);return"[Function"+(J?": "+J:" (anonymous)")+"]"+(rt.length>0?" { "+j.call(rt,", ")+" }":"")}if(H(e)){var nt=C?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(e);return"object"!=typeof e||C?nt:X(nt)}if((F=e)&&"object"==typeof F&&("undefined"!=typeof HTMLElement&&F instanceof HTMLElement||"string"==typeof F.nodeName&&"function"==typeof F.getAttribute)){for(var ot="<"+A.call(String(e.nodeName)),it=e.attributes||[],st=0;st<it.length;st++)ot+=" "+it[st].name+"="+U(B(it[st].value),"double",c);return ot+=">",e.childNodes&&e.childNodes.length&&(ot+="..."),ot+"</"+A.call(String(e.nodeName))+">"}if(q(e)){if(0===e.length)return"[]";var at=et(e,z);return N&&!function(t){for(var e=0;e<t.length;e++)if(K(t[e],"\n")>=0)return!1;return!0}(at)?"["+tt(at,N)+"]":"[ "+j.call(at,", ")+" ]"}if(function(t){return!("[object Error]"!==G(t)||I&&"object"==typeof t&&I in t)}(e)){var ct=et(e,z);return"cause"in Error.prototype||!("cause"in e)||$.call(e,"cause")?0===ct.length?"["+String(e)+"]":"{ ["+String(e)+"] "+j.call(ct,", ")+" }":"{ ["+String(e)+"] "+j.call(S.call("[cause]: "+z(e.cause),ct),", ")+" }"}if("object"==typeof e&&y){if(R&&"function"==typeof e[R]&&M)return M(e,{depth:k-o});if("symbol"!==y&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{u.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ut=[];return s&&s.call(e,(function(t,r){ut.push(z(r,e,!0)+" => "+z(t,e))})),Y("Map",i.call(e),ut,N)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var lt=[];return l&&l.call(e,(function(t){lt.push(z(t,e))})),Y("Set",u.call(e),lt,N)}if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Z("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Z("WeakSet");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{return f.call(t),!0}catch(t){}return!1}(e))return Z("WeakRef");if(function(t){return!("[object Number]"!==G(t)||I&&"object"==typeof t&&I in t)}(e))return X(z(Number(e)));if(function(t){if(!t||"object"!=typeof t||!x)return!1;try{return x.call(t),!0}catch(t){}return!1}(e))return X(z(x.call(e)));if(function(t){return!("[object Boolean]"!==G(t)||I&&"object"==typeof t&&I in t)}(e))return X(h.call(e));if(function(t){return!("[object String]"!==G(t)||I&&"object"==typeof t&&I in t)}(e))return X(z(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==r.g&&e===r.g)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==G(t)||I&&"object"==typeof t&&I in t)}(e)&&!W(e)){var pt=et(e,z),dt=D?D(e)===Object.prototype:e instanceof Object||e.constructor===Object,ft=e instanceof Object?"":"null prototype",ht=!dt&&I&&Object(e)===e&&I in e?b.call(G(e),8,-1):ft?"Object":"",yt=(dt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ft?"["+j.call(S.call([],ht||[],ft||[]),": ")+"] ":"");return 0===pt.length?yt+"{}":N?yt+"{"+tt(pt,N)+"}":yt+"{ "+j.call(pt,", ")+" }"}return String(e)};var z=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return z.call(t,e)}function G(t){return y.call(t)}function K(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Q(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Q(b.call(t,0,e.maxStringLength),e)+n}var o=N[e.quoteStyle||"single"];return o.lastIndex=0,U(v.call(v.call(t,o,"\\$1"),/[\x00-\x1f]/g,J),"single",e)}function J(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function X(t){return"Object("+t+")"}function Z(t){return t+" { ? }"}function Y(t,e,r,n){return t+" ("+e+") {"+(n?tt(r,n):j.call(r,", "))+"}"}function tt(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+j.call(t,","+r)+"\n"+e.prev}function et(t,e){var r=q(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=V(t,o)?e(t[o],t):""}var i,s="function"==typeof k?k(t):[];if(C){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var c in t)V(t,c)&&(r&&String(Number(c))===c&&c<t.length||C&&i["$"+c]instanceof Symbol||(_.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof k)for(var u=0;u<s.length;u++)$.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}},136:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:n}},600:(t,e,r)=>{"use strict";var n=r(477),o=r(347),i=r(136);t.exports={formats:i,parse:o,stringify:n}},347:(t,e,r)=>{"use strict";var n=r(361),o=Object.prototype.hasOwnProperty,i=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(i),u=a?i.slice(0,a.index):i,l=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var p=0;r.depth>0&&null!==(a=s.exec(i))&&p<r.depth;){if(p+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}if(a){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");l.push("["+i.slice(a.index)+"]")}return function(t,e,r,n){for(var o=n?e:c(e,r),i=t.length-1;i>=0;--i){var s,a=t[i];if("[]"===a&&r.parseArrays)s=r.allowEmptyArrays&&(""===o||r.strictNullHandling&&null===o)?[]:[].concat(o);else{s=r.plainObjects?{__proto__:null}:{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,p=parseInt(l,10);r.parseArrays||""!==l?!isNaN(p)&&a!==l&&String(p)===l&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(s=[])[p]=o:"__proto__"!==l&&(s[l]=o):s={0:o}}o=s}return o}(l,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return s;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset,r=void 0===t.duplicates?s.duplicates:t.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||s.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?{__proto__:null}:{};for(var l="string"==typeof t?function(t,e){var r={__proto__:null},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l,p=e.parameterLimit===1/0?void 0:e.parameterLimit,d=u.split(e.delimiter,p),f=-1,h=e.charset;if(e.charsetSentinel)for(l=0;l<d.length;++l)0===d[l].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[l]?h="utf-8":"utf8=%26%2310003%3B"===d[l]&&(h="iso-8859-1"),f=l,l=d.length);for(l=0;l<d.length;++l)if(l!==f){var y,m,g=d[l],b=g.indexOf("]="),v=-1===b?g.indexOf("="):b+1;-1===v?(y=e.decoder(g,s.decoder,h,"key"),m=e.strictNullHandling?null:""):(y=e.decoder(g.slice(0,v),s.decoder,h,"key"),m=n.maybeMap(c(g.slice(v+1),e),(function(t){return e.decoder(t,s.decoder,h,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===h&&(m=a(String(m))),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m);var w=o.call(r,y);w&&"combine"===e.duplicates?r[y]=n.combine(r[y],m):w&&"last"!==e.duplicates||(r[y]=m)}return r}(t,r):t,p=r.plainObjects?{__proto__:null}:{},d=Object.keys(l),f=0;f<d.length;++f){var h=d[f],y=u(h,l[h],r,"string"==typeof t);p=n.merge(p,y,r)}return!0===r.allowSparse?p:n.compact(p)}},477:(t,e,r)=>{"use strict";var n=r(921),o=r(361),i=r(136),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,u=Array.prototype.push,l=function(t,e){u.apply(t,c(e)?e:[e])},p=Date.prototype.toISOString,d=i.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},h={},y=function t(e,r,i,s,a,u,p,d,y,m,g,b,v,w,A,_,S,j){for(var E,O=e,x=j,k=0,P=!1;void 0!==(x=x.get(h))&&!P;){var C=x.get(e);if(k+=1,void 0!==C){if(C===k)throw new RangeError("Cyclic object value");P=!0}void 0===x.get(h)&&(k=0)}if("function"==typeof m?O=m(r,O):O instanceof Date?O=v(O):"comma"===i&&c(O)&&(O=o.maybeMap(O,(function(t){return t instanceof Date?v(t):t}))),null===O){if(u)return y&&!_?y(r,f.encoder,S,"key",w):r;O=""}if("string"==typeof(E=O)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||o.isBuffer(O))return y?[A(_?r:y(r,f.encoder,S,"key",w))+"="+A(y(O,f.encoder,S,"value",w))]:[A(r)+"="+A(String(O))];var I,$=[];if(void 0===O)return $;if("comma"===i&&c(O))_&&y&&(O=o.maybeMap(O,y)),I=[{value:O.length>0?O.join(",")||null:void 0}];else if(c(m))I=m;else{var D=Object.keys(O);I=g?D.sort(g):D}var T=d?String(r).replace(/\./g,"%2E"):String(r),M=s&&c(O)&&1===O.length?T+"[]":T;if(a&&c(O)&&0===O.length)return M+"[]";for(var F=0;F<I.length;++F){var R=I[F],L="object"==typeof R&&R&&void 0!==R.value?R.value:O[R];if(!p||null!==L){var N=b&&d?String(R).replace(/\./g,"%2E"):String(R),U=c(O)?"function"==typeof i?i(M,N):M:M+(b?"."+N:"["+N+"]");j.set(e,k);var B=n();B.set(h,j),l($,t(L,U,i,s,a,u,p,d,"comma"===i&&_&&c(O)?null:y,m,g,b,v,w,A,_,S,B))}}return $};t.exports=function(t,e){var r,o=t,u=function(t){if(!t)return f;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!s.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n,o=i.formatters[r],u=f.filter;if(("function"==typeof t.filter||c(t.filter))&&(u=t.filter),n=t.arrayFormat in a?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===t.allowDots?!0===t.encodeDotInKeys||f.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:n,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:u,format:r,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(r=u.filter);var p=[];if("object"!=typeof o||null===o)return"";var d=a[u.arrayFormat],h="comma"===d&&u.commaRoundTrip;r||(r=Object.keys(o)),u.sort&&r.sort(u.sort);for(var m=n(),g=0;g<r.length;++g){var b=r[g],v=o[b];u.skipNulls&&null===v||l(p,y(v,b,d,h,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var w=p.join(u.delimiter),A=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),w.length>0?A+w:""}},361:(t,e,r)=>{"use strict";var n=r(136),o=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?{__proto__:null}:{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},c=1024;t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:s,prop:u}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,o,i){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<a.length;l+=c){for(var p=a.length>=c?a.slice(l,l+c):a,d=[],f=0;f<p.length;++f){var h=p.charCodeAt(f);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===n.RFC1738&&(40===h||41===h)?d[d.length]=p.charAt(f):h<128?d[d.length]=s[h]:h<2048?d[d.length]=s[192|h>>6]+s[128|63&h]:h<55296||h>=57344?d[d.length]=s[224|h>>12]+s[128|h>>6&63]+s[128|63&h]:(f+=1,h=65536+((1023&h)<<10|1023&p.charCodeAt(f)),d[d.length]=s[240|h>>18]+s[128|h>>12&63]+s[128|h>>6&63]+s[128|63&h])}u+=d.join("")}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r&&"function"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return i(e)&&!i(r)&&(s=a(e,n)),i(e)&&i(r)?(r.forEach((function(r,i){if(o.call(e,i)){var s=e[i];s&&"object"==typeof s&&r&&"object"==typeof r?e[i]=t(s,r,n):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var s=r[i];return o.call(e,i)?e[i]=t(e[i],s,n):e[i]=s,e}),s)}}},964:(t,e,r)=>{"use strict";var n=r(458),o=r(2),i=function(t,e,r){for(var n,o=t;null!=(n=o.next);o=n)if(n.key===e)return o.next=n.next,r||(n.next=t.next,t.next=n),n};t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new o("Side channel does not contain "+n(t))},delete:function(e){var r=t&&t.next,n=function(t,e){if(t)return i(t,e,!0)}(t,e);return n&&r&&r===n&&(t=void 0),!!n},get:function(e){return function(t,e){if(t){var r=i(t,e);return r&&r.value}}(t,e)},has:function(e){return function(t,e){return!!t&&!!i(t,e)}(t,e)},set:function(e,r){t||(t={next:void 0}),function(t,e,r){var n=i(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(t,e,r)}};return e}},822:(t,e,r)=>{"use strict";var n=r(894),o=r(553),i=r(458),s=r(2),a=n("%Map%",!0),c=o("Map.prototype.get",!0),u=o("Map.prototype.set",!0),l=o("Map.prototype.has",!0),p=o("Map.prototype.delete",!0),d=o("Map.prototype.size",!0);t.exports=!!a&&function(){var t,e={assert:function(t){if(!e.has(t))throw new s("Side channel does not contain "+i(t))},delete:function(e){if(t){var r=p(t,e);return 0===d(t)&&(t=void 0),r}return!1},get:function(e){if(t)return c(t,e)},has:function(e){return!!t&&l(t,e)},set:function(e,r){t||(t=new a),u(t,e,r)}};return e}},454:(t,e,r)=>{"use strict";var n=r(894),o=r(553),i=r(458),s=r(822),a=r(2),c=n("%WeakMap%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("WeakMap.prototype.delete",!0);t.exports=c?function(){var t,e,r={assert:function(t){if(!r.has(t))throw new a("Side channel does not contain "+i(t))},delete:function(r){if(c&&r&&("object"==typeof r||"function"==typeof r)){if(t)return d(t,r)}else if(s&&e)return e.delete(r);return!1},get:function(r){return c&&r&&("object"==typeof r||"function"==typeof r)&&t?u(t,r):e&&e.get(r)},has:function(r){return c&&r&&("object"==typeof r||"function"==typeof r)&&t?p(t,r):!!e&&e.has(r)},set:function(r,n){c&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new c),l(t,r,n)):s&&(e||(e=s()),e.set(r,n))}};return r}:s},921:(t,e,r)=>{"use strict";var n=r(2),o=r(458),i=r(964),s=r(822),a=r(454)||s||i;t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new n("Side channel does not contain "+o(t))},delete:function(e){return!!t&&t.delete(e)},get:function(e){return t&&t.get(e)},has:function(e){return!!t&&t.has(e)},set:function(e,r){t||(t=a()),t.set(e,r)}};return e}},797:(t,e,r)=>{var n;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(t){return function(t,e){var r,n,s,a,c,u,l,p,d,f=1,h=t.length,y="";for(n=0;n<h;n++)if("string"==typeof t[n])y+=t[n];else if("object"==typeof t[n]){if((a=t[n]).keys)for(r=e[f],s=0;s<a.keys.length;s++){if(null==r)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));r=r[a.keys[s]]}else r=a.param_no?e[a.param_no]:e[f++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&r instanceof Function&&(r=r()),o.numeric_arg.test(a.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(i("[sprintf] expecting number but found %T",r));switch(o.number.test(a.type)&&(p=r>=0),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?y+=r:(!o.number.test(a.type)||p&&!a.sign?d="":(d=p?"+":"-",r=r.toString().replace(o.sign,"")),u=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",l=a.width-(d+r).length,c=a.width&&l>0?u.repeat(l):"",y+=a.align?d+r+c:"0"===u?d+c+r:c+d+r)}return y}(function(t){if(a[t])return a[t];for(var e,r=t,n=[],i=0;r;){if(null!==(e=o.text.exec(r)))n.push(e[0]);else if(null!==(e=o.modulo.exec(r)))n.push("%");else{if(null===(e=o.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var s=[],c=e[2],u=[];if(null===(u=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=o.key_access.exec(c)))s.push(u[1]);else{if(null===(u=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}e[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return a[t]=n}(t),arguments)}function s(t,e){return i.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.sprintf=i,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=s,void 0===(n=function(){return{sprintf:i,vsprintf:s}}.call(e,r,e,t))||(t.exports=n))}()},641:()=>{"use strict";!function(t){function e(t,e,r){throw new t("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+e+".",r)}"function"!=typeof t.requestSubmit&&(t.requestSubmit=function(t){t?(function(t,r){t instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==t.type||e(TypeError,"The specified element is not a submit button"),t.form==r||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}(t,this),t.click()):((t=document.createElement("input")).type="submit",t.hidden=!0,this.appendChild(t),t.click(),this.removeChild(t))})}(HTMLFormElement.prototype)},967:()=>{}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{EventBus:()=>d,EventMixin:()=>p,Mixin:()=>c,MixinBuilder:()=>l,createApp:()=>Ge,default:()=>Je,mix:()=>u,noConflict:()=>Ke});const t="__mixwith_appliedMixin";function e(e,r){return e.hasOwnProperty(t)&&e[t]===s(r)}const o="__mixwith_wrappedMixin";function i(t,e){return Object.setPrototypeOf(e,t),t[o]||(t[o]=t),e}function s(t){return t[o]||t}const a="__mixwith_cachedApplications";function c(r){return function(t){return i(t,(r=>function(t,r){for(;null!=t;){if(e(t,r))return!0;t=Object.getPrototypeOf(t)}return!1}(r.prototype,t)?r:t(r)))}(function(t){return i(t,(e=>{let r=e[a];r||(r=e[a]=new Map);let n=r.get(t);return n||(n=t(e),r.set(t,n)),n}))}(function(e){return i(e,(r=>function(e,r){const n=r(e);return n.prototype[t]=s(r),n}(r,e)))}(r)))}function u(t){return new l(t)}class l{superclass;constructor(t){this.superclass=t,this.superclass=this.superclass||class{}}with(...t){return t.reduce(((t,e)=>e(t)),this.superclass)}}Object.setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(const r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t});const p=c((function(t){return class extends t{_listeners={};on(t,e){return Array.isArray(t)?(t.forEach((t=>this.on(t,e))),this):(void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e),this)}once(t,e){return Array.isArray(t)?(t.forEach((t=>this.once(t,e))),this):(e.once=!0,this.on(t,e))}off(t,e=void 0){return null!=e?(this._listeners[t]=this.listeners(t).filter((t=>t!==e)),this):(delete this._listeners[t],this)}trigger(t,...e){return Array.isArray(t)?(t.forEach((t=>this.trigger(t))),this):(this.listeners(t).forEach((t=>{t(...e)})),this._listeners[t]=this.listeners(t).filter((t=>!0!==t?.once)),this)}listeners(t){return void 0===this._listeners[t]?[]:this._listeners[t]}}}));class d extends(p(class{})){}r(641);const f=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},h=function(t){return t};var y=Math.max;const m="object"==typeof global&&global&&global.Object===Object&&global;var g="object"==typeof self&&self&&self.Object===Object&&self;const b=m||g||Function("return this")(),v=b.Symbol;var w=Object.prototype,A=w.hasOwnProperty,_=w.toString,S=v?v.toStringTag:void 0;var j=Object.prototype.toString;var E=v?v.toStringTag:void 0;const O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":E&&E in Object(t)?function(t){var e=A.call(t,S),r=t[S];try{t[S]=void 0;var n=!0}catch(t){}var o=_.call(t);return n&&(e?t[S]=r:delete t[S]),o}(t):function(t){return j.call(t)}(t)},x=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},k=function(t){if(!x(t))return!1;var e=O(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},P=b["__core-js_shared__"];var C,I=(C=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var $=Function.prototype.toString;var D=/^\[object .+?Constructor\]$/,T=Function.prototype,M=Object.prototype,F=T.toString,R=M.hasOwnProperty,L=RegExp("^"+F.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const N=function(t){return!(!x(t)||(e=t,I&&I in e))&&(k(t)?L:D).test(function(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},U=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0},B=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),q=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:h;var W=Date.now;const H=(z=q,V=0,G=0,function(){var t=W(),e=16-(t-G);if(G=t,e>0){if(++V>=800)return arguments[0]}else V=0;return z.apply(void 0,arguments)});var z,V,G;const K=function(t,e){return H(function(t,e,r){return e=y(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=y(n.length-e,0),s=Array(i);++o<i;)s[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=r(s),f(t,this,a)}}(t,e,h),t+"")},Q=function(t,e){return t===e||t!=t&&e!=e},J=function(t,e){for(var r=t.length;r--;)if(Q(t[r][0],e))return r;return-1};var X=Array.prototype.splice;function Z(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var e=this.__data__,r=J(e,t);return!(r<0||(r==e.length-1?e.pop():X.call(e,r,1),--this.size,0))},Z.prototype.get=function(t){var e=this.__data__,r=J(e,t);return r<0?void 0:e[r][1]},Z.prototype.has=function(t){return J(this.__data__,t)>-1},Z.prototype.set=function(t,e){var r=this.__data__,n=J(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};const Y=Z,tt=U(b,"Map"),et=U(Object,"create");var rt=Object.prototype.hasOwnProperty;var nt=Object.prototype.hasOwnProperty;function ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ot.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},ot.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ot.prototype.get=function(t){var e=this.__data__;if(et){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return rt.call(e,t)?e[t]:void 0},ot.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:nt.call(e,t)},ot.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=et&&void 0===e?"__lodash_hash_undefined__":e,this};const it=ot,st=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function at(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}at.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(tt||Y),string:new it}},at.prototype.delete=function(t){var e=st(this,t).delete(t);return this.size-=e?1:0,e},at.prototype.get=function(t){return st(this,t).get(t)},at.prototype.has=function(t){return st(this,t).has(t)},at.prototype.set=function(t,e){var r=st(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};const ct=at;function ut(t){var e=this.__data__=new Y(t);this.size=e.size}ut.prototype.clear=function(){this.__data__=new Y,this.size=0},ut.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ut.prototype.get=function(t){return this.__data__.get(t)},ut.prototype.has=function(t){return this.__data__.has(t)},ut.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Y){var n=r.__data__;if(!tt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ct(n)}return r.set(t,e),this.size=r.size,this};const lt=ut,pt=function(t,e,r){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},dt=function(t,e,r){(void 0!==r&&!Q(t[e],r)||void 0===r&&!(e in t))&&pt(t,e,r)},ft=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),s=i.length;s--;){var a=i[++n];if(!1===e(o[a],a,o))break}return t};var ht="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=ht&&"object"==typeof module&&module&&!module.nodeType&&module,mt=yt&&yt.exports===ht?b.Buffer:void 0,gt=mt?mt.allocUnsafe:void 0;const bt=b.Uint8Array,vt=function(t,e){var r,n,o=e?(r=t.buffer,n=new r.constructor(r.byteLength),new bt(n).set(new bt(r)),n):t.buffer;return new t.constructor(o,t.byteOffset,t.length)};var wt=Object.create;const At=function(){function t(){}return function(e){if(!x(e))return{};if(wt)return wt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),_t=function(t,e){return function(r){return t(e(r))}},St=_t(Object.getPrototypeOf,Object);var jt=Object.prototype;const Et=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)},Ot=function(t){return null!=t&&"object"==typeof t},xt=function(t){return Ot(t)&&"[object Arguments]"==O(t)};var kt=Object.prototype,Pt=kt.hasOwnProperty,Ct=kt.propertyIsEnumerable;const It=xt(function(){return arguments}())?xt:function(t){return Ot(t)&&Pt.call(t,"callee")&&!Ct.call(t,"callee")},$t=Array.isArray,Dt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Tt=function(t){return null!=t&&Dt(t.length)&&!k(t)};var Mt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ft=Mt&&"object"==typeof module&&module&&!module.nodeType&&module,Rt=Ft&&Ft.exports===Mt?b.Buffer:void 0;const Lt=(Rt?Rt.isBuffer:void 0)||function(){return!1};var Nt=Function.prototype,Ut=Object.prototype,Bt=Nt.toString,qt=Ut.hasOwnProperty,Wt=Bt.call(Object);var Ht={};Ht["[object Float32Array]"]=Ht["[object Float64Array]"]=Ht["[object Int8Array]"]=Ht["[object Int16Array]"]=Ht["[object Int32Array]"]=Ht["[object Uint8Array]"]=Ht["[object Uint8ClampedArray]"]=Ht["[object Uint16Array]"]=Ht["[object Uint32Array]"]=!0,Ht["[object Arguments]"]=Ht["[object Array]"]=Ht["[object ArrayBuffer]"]=Ht["[object Boolean]"]=Ht["[object DataView]"]=Ht["[object Date]"]=Ht["[object Error]"]=Ht["[object Function]"]=Ht["[object Map]"]=Ht["[object Number]"]=Ht["[object Object]"]=Ht["[object RegExp]"]=Ht["[object Set]"]=Ht["[object String]"]=Ht["[object WeakMap]"]=!1;var zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vt=zt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=Vt&&Vt.exports===zt&&m.process,Kt=function(){try{return Vt&&Vt.require&&Vt.require("util").types||Gt&&Gt.binding&&Gt.binding("util")}catch(t){}}(),Qt=Kt&&Kt.isTypedArray;const Jt=Qt?function(t){return function(e){return t(e)}}(Qt):function(t){return Ot(t)&&Dt(t.length)&&!!Ht[O(t)]},Xt=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var Zt=Object.prototype.hasOwnProperty;const Yt=function(t,e,r){var n=t[e];Zt.call(t,e)&&Q(n,r)&&(void 0!==r||e in t)||pt(t,e,r)};var te=/^(?:0|[1-9]\d*)$/;const ee=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&te.test(t))&&t>-1&&t%1==0&&t<e};var re=Object.prototype.hasOwnProperty;const ne=function(t,e){var r=$t(t),n=!r&&It(t),o=!r&&!n&&Lt(t),i=!r&&!n&&!o&&Jt(t),s=r||n||o||i,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!re.call(t,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ee(u,c))||a.push(u);return a};var oe=Object.prototype.hasOwnProperty;const ie=function(t){if(!x(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Et(t),r=[];for(var n in t)("constructor"!=n||!e&&oe.call(t,n))&&r.push(n);return r},se=function(t){return Tt(t)?ne(t,!0):ie(t)},ae=function(t){return function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,s=e.length;++i<s;){var a=e[i],c=n?n(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),o?pt(r,a,c):Yt(r,a,c)}return r}(t,se(t))},ce=function(t,e,r,n,o,i,s){var a,c=Xt(t,r),u=Xt(e,r),l=s.get(u);if(l)dt(t,r,l);else{var p=i?i(c,u,r+"",t,e,s):void 0,d=void 0===p;if(d){var f=$t(u),h=!f&&Lt(u),y=!f&&!h&&Jt(u);p=u,f||h||y?$t(c)?p=c:Ot(a=c)&&Tt(a)?p=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(c):h?(d=!1,p=function(t,e){if(e)return t.slice();var r=t.length,n=gt?gt(r):new t.constructor(r);return t.copy(n),n}(u,!0)):y?(d=!1,p=vt(u,!0)):p=[]:function(t){if(!Ot(t)||"[object Object]"!=O(t))return!1;var e=St(t);if(null===e)return!0;var r=qt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Bt.call(r)==Wt}(u)||It(u)?(p=c,It(c)?p=ae(c):x(c)&&!k(c)||(p=function(t){return"function"!=typeof t.constructor||Et(t)?{}:At(St(t))}(u))):d=!1}d&&(s.set(u,p),o(p,u,n,i,s),s.delete(u)),dt(t,r,p)}},ue=function t(e,r,n,o,i){e!==r&&ft(r,(function(s,a){if(i||(i=new lt),x(s))ce(e,r,a,n,t,o,i);else{var c=o?o(Xt(e,a),s,a+"",e,r,i):void 0;void 0===c&&(c=s),dt(e,a,c)}}),se)},le=function t(e,r,n,o,i,s){return x(e)&&x(r)&&(s.set(r,e),ue(e,r,void 0,t,s),s.delete(r)),e},pe=(de=function(t,e,r,n){ue(t,e,r,n)},K((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=de.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!x(r))return!1;var n=typeof e;return!!("number"==n?Tt(r)&&ee(e,r.length):"string"==n&&e in r)&&Q(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var s=e[r];s&&de(t,s,r,o)}return t})));var de;const fe=K((function(t){return t.push(void 0,le),f(pe,void 0,t)}));function he(t,e=void 0){return me(t),void 0===e?t.__unicorn:t.__unicorn[e]}function ye(t,e,r){return me(t),t.__unicorn[e]=t.__unicorn[e]||r(t),t.__unicorn[e]}function me(t){return t?(t.__unicorn=t.__unicorn||{},t):t}const ge={};class be extends(u(class{}).with(p)){plugins={};waits=[];options;constructor(t={}){super(),this.options=fe({},t,ge),this.wait((t=>{document.addEventListener("DOMContentLoaded",(()=>t()))})),document.addEventListener("DOMContentLoaded",(()=>{this.completed().then((()=>this.trigger("loaded")))}))}use(t,e={}){return Array.isArray(t)?(t.forEach((t=>this.use(t))),this):(t?.install?.(this,e),this.trigger("plugin.installed",t),this)}inject(t){if(void 0===typeof this[t])throw new Error(`Plugin: ${t} not found.`);return this[t]}detach(t){return t.uninstall&&t.uninstall(this),this.trigger("plugin.uninstalled",t),this}tap(t,e){return e(t),t}data(t,e=void 0,r=void 0){if(t instanceof HTMLElement||(r=e,e=t,t=document),this.trigger("unicorn.data",e,r),void 0===e)return he(t);if(void 0===r){const r=he(t,e);return this.trigger("unicorn.data.get",e,r),r}return function(t,e,r){me(t),t.__unicorn[e]=r}(t,e,r),this.trigger("unicorn.data.set",e,r),this}removeData(t,e=void 0){return t instanceof HTMLElement||(e=t,t=document),function(t,e){me(t);t.__unicorn[e];delete t.__unicorn[e]}(t,e),this}uri(t){return this.data("unicorn.uri")[t]}asset(t){return this.uri("asset")[t]}wait(t){const e=new Promise(((e,r)=>{const n=t(e,r);n&&"then"in n&&n.then(e).catch(r)}));return this.waits.push(e),e}completed(){const t=Promise.all(this.waits);return this.waits=[],t}}const ve=be,we=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Ae=_t(Object.keys,Object);var _e=Object.prototype.hasOwnProperty;const Se=function(t){return Tt(t)?ne(t):function(t){if(!Et(t))return Ae(t);var e=[];for(var r in Object(t))_e.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)},je=function(t,e){if(null==t)return t;if(!Tt(t))return function(t,e){return t&&ft(t,e,Se)}(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&!1!==e(o[n],n,o););return t},Ee=function(t,e){return($t(t)?we:je)(t,"function"==typeof(r=e)?r:h);var r};class Oe{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(t,e=!1){return this.onePassHasher.start().appendStr(t).end(e)}static hashAsciiStr(t,e=!1){return this.onePassHasher.start().appendAsciiStr(t).end(e)}static _hex(t){const e=Oe.hexChars,r=Oe.hexOut;let n,o,i,s;for(s=0;s<4;s+=1)for(o=8*s,n=t[s],i=0;i<8;i+=2)r[o+1+i]=e.charAt(15&n),n>>>=4,r[o+0+i]=e.charAt(15&n),n>>>=4;return r.join("")}static _md5cycle(t,e){let r=t[0],n=t[1],o=t[2],i=t[3];r+=(n&o|~n&i)+e[0]-680876936|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+e[1]-389564586|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+e[2]+606105819|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+e[3]-1044525330|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+e[4]-176418897|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+e[5]+1200080426|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+e[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+e[7]-45705983|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+e[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+e[9]-1958414417|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+e[10]-42063|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+e[11]-1990404162|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&i)+e[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,i+=(r&n|~r&o)+e[13]-40341101|0,i=(i<<12|i>>>20)+r|0,o+=(i&r|~i&n)+e[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,n+=(o&i|~o&r)+e[15]+1236535329|0,n=(n<<22|n>>>10)+o|0,r+=(n&i|o&~i)+e[1]-165796510|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+e[6]-1069501632|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+e[11]+643717713|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+e[0]-373897302|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+e[5]-701558691|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+e[10]+38016083|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+e[15]-660478335|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+e[4]-405537848|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+e[9]+568446438|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+e[14]-1019803690|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+e[3]-187363961|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+e[8]+1163531501|0,n=(n<<20|n>>>12)+o|0,r+=(n&i|o&~i)+e[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,i+=(r&o|n&~o)+e[2]-51403784|0,i=(i<<9|i>>>23)+r|0,o+=(i&n|r&~n)+e[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,n+=(o&r|i&~r)+e[12]-1926607734|0,n=(n<<20|n>>>12)+o|0,r+=(n^o^i)+e[5]-378558|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+e[8]-2022574463|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+e[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+e[14]-35309556|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+e[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+e[4]+1272893353|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+e[7]-155497632|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+e[10]-1094730640|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+e[13]+681279174|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+e[0]-358537222|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+e[3]-722521979|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+e[6]+76029189|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^i)+e[9]-640364487|0,r=(r<<4|r>>>28)+n|0,i+=(r^n^o)+e[12]-421815835|0,i=(i<<11|i>>>21)+r|0,o+=(i^r^n)+e[15]+530742520|0,o=(o<<16|o>>>16)+i|0,n+=(o^i^r)+e[2]-995338651|0,n=(n<<23|n>>>9)+o|0,r+=(o^(n|~i))+e[0]-198630844|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+e[7]+1126891415|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+e[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+e[5]-57434055|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+e[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+e[3]-1894986606|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+e[10]-1051523|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+e[1]-2054922799|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+e[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+e[15]-30611744|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+e[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+e[13]+1309151649|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~i))+e[4]-145523070|0,r=(r<<6|r>>>26)+n|0,i+=(n^(r|~o))+e[11]-1120210379|0,i=(i<<10|i>>>22)+r|0,o+=(r^(i|~n))+e[2]+718787259|0,o=(o<<15|o>>>17)+i|0,n+=(i^(o|~r))+e[9]-343485551|0,n=(n<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Oe.stateIdentity),this}appendStr(t){const e=this._buffer8,r=this._buffer32;let n,o,i=this._bufferLength;for(o=0;o<t.length;o+=1){if(n=t.charCodeAt(o),n<128)e[i++]=n;else if(n<2048)e[i++]=192+(n>>>6),e[i++]=63&n|128;else if(n<55296||n>56319)e[i++]=224+(n>>>12),e[i++]=n>>>6&63|128,e[i++]=63&n|128;else{if(n=1024*(n-55296)+(t.charCodeAt(++o)-56320)+65536,n>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[i++]=240+(n>>>18),e[i++]=n>>>12&63|128,e[i++]=n>>>6&63|128,e[i++]=63&n|128}i>=64&&(this._dataLength+=64,Oe._md5cycle(this._state,r),i-=64,r[0]=r[16])}return this._bufferLength=i,this}appendAsciiStr(t){const e=this._buffer8,r=this._buffer32;let n,o=this._bufferLength,i=0;for(;;){for(n=Math.min(t.length-i,64-o);n--;)e[o++]=t.charCodeAt(i++);if(o<64)break;this._dataLength+=64,Oe._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}appendByteArray(t){const e=this._buffer8,r=this._buffer32;let n,o=this._bufferLength,i=0;for(;;){for(n=Math.min(t.length-i,64-o);n--;)e[o++]=t[i++];if(o<64)break;this._dataLength+=64,Oe._md5cycle(this._state,r),o=0}return this._bufferLength=o,this}getState(){const t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){const e=t.buffer,r=t.state,n=this._state;let o;for(this._dataLength=t.length,this._bufferLength=t.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],o=0;o<e.length;o+=1)this._buffer8[o]=e.charCodeAt(o)}end(t=!1){const e=this._bufferLength,r=this._buffer8,n=this._buffer32,o=1+(e>>2);this._dataLength+=e;const i=8*this._dataLength;if(r[e]=128,r[e+1]=r[e+2]=r[e+3]=0,n.set(Oe.buffer32Identity.subarray(o),o),e>55&&(Oe._md5cycle(this._state,n),n.set(Oe.buffer32Identity)),i<=4294967295)n[14]=i;else{const t=i.toString(16).match(/(.*?)(.{0,8})$/);if(null===t)return;const e=parseInt(t[2],16),r=parseInt(t[1],16)||0;n[14]=e,n[15]=r}return Oe._md5cycle(this._state,n),t?this._state:Oe._hex(this._state)}}if(Oe.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),Oe.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Oe.hexChars="0123456789abcdef",Oe.hexOut=[],Oe.onePassHasher=new Oe,"5d41402abc4b2a76b9719d911017c592"!==Oe.hashStr("hello"))throw new Error("Md5 self test failed.");let xe=1;const ke="_unicornDirectiveDisconnectors";var Pe=r(797);const Ce={};class Ie{app;element;options;constructor(t,e,r,n={}){if(this.app=t,!r){r=document.createElement("form"),"string"==typeof e&&0===e.indexOf("#")&&(r.setAttribute("id",e.substr(1)),r.setAttribute("name",e.substr(1))),r.setAttribute("method","post"),r.setAttribute("enctype","multipart/form-data"),r.setAttribute("novalidate","true"),r.setAttribute("action",t.data("unicorn.uri").full),r.setAttribute("style","display: none;");const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t.data("csrf-token")),n.setAttribute("value","1"),r.appendChild(n),document.body.appendChild(r)}n=Object.assign({},Ce,n),this.element=r,this.options=n,this.bindEvents()}bindEvents(){}initComponent(t="form",e={}){return this.app.loadAlpine((()=>{Alpine.store(t,this.useState(e))}))}useState(t={}){const e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(this)).map((t=>e[t]=this[t].bind(this))),Object.assign(e,t)}getElement(){return this.element}submit(t,e,r,n){const o=this.element;if(n){let t=o.querySelector('input[name="_method"]');t?t.value=n:(t=document.createElement("input"),t.setAttribute("name","_method"),t.setAttribute("type","hidden"),t.value=n,o.appendChild(t))}if(e){const t=Ie.flattenObject(e);Ee(t,((t,e)=>{const r=Ie.buildFieldName(e);this.injectInput(r,t)}))}return t&&o.setAttribute("action",t),r&&o.setAttribute("method",r),o.requestSubmit(),!0}injectInput(t,e){let r=this.element.querySelector(`input[name="${t}"]`);return r||(r=document.createElement("input"),r.setAttribute("name",t),r.setAttribute("type","hidden"),r.setAttribute("data-role","temp-input"),this.element.appendChild(r)),r.value=e,r}get(t,e,r){return this.submit(t,e,"GET",r)}post(t,e,r){return r=r||"POST",this.submit(t,e,"POST",r)}put(t,e){return this.post(t,e,"PUT")}patch(t,e){return this.post(t,e,"PATCH")}delete(t,e){return this.post(t,e,"DELETE")}static flattenObject(t){const e={};for(let r in t)if(t.hasOwnProperty(r))if("object"==typeof t[r]&&null!=t[r]){const n=this.flattenObject(t[r]);for(let t in n)n.hasOwnProperty(t)&&(e[r+"/"+t]=n[t])}else e[r]=t[r];return e}static buildFieldName(t){const e=t.split("/");return e.shift()+e.map((t=>`[${t}]`)).join("")}}const $e={};var De=r(600);class Te{name;store;observers=[];constructor(t,e=[]){this.name=t,this.store=e}push(t=!0){const e=this.store.push(t);return this.notice(),e}pop(){const t=this.store.pop();return this.notice(),t}clear(){return this.store=[],this.notice(),this}isEmpty(){return 0===this.store.length}get length(){return this.store.length}peek(){return this.store}observe(t){return this.observers.push({handler:t,once:!1}),()=>{this.off(t)}}once(t){return this.observers.push({handler:t,once:!0}),()=>{this.off(t)}}notice(){return this.observers.forEach((t=>{t.handler(this,this.length)})),this.observers=this.observers.filter((t=>!0!==t.once)),this}off(t){return this.observers=this.observers.filter((e=>e.handler!==t)),this}}const Me={};class Fe{app;element;options;form;ordering="";state={};static get defaultOptions(){return{}}constructor(t,e,r,n={}){if(this.app=t,this.element=r,this.options=Object.assign({},Me,n),this.form=t.form(e||r),!this.form)throw new Error("UnicornGrid is dependent on UnicornForm");this.bindEvents()}get $helper(){return this.app.inject("$helper")}get $lang(){return this.app.inject("$lang")}bindEvents(){this.$helper.selectAll("input[data-role=grid-checkbox]",(t=>{t.addEventListener("click",(()=>{t.dispatchEvent(new CustomEvent("change"))})),t.addEventListener("change",(()=>{const t=new CustomEvent("unicorn:checked",{detail:{grid:this}});this.form.element?.dispatchEvent(t)}))}))}initComponent(t="grid",e={}){return this.ordering=this.element?.dataset?.ordering||"",this.ordering&&(this.ordering.toLowerCase().endsWith(" asc")||this.ordering.toLowerCase().endsWith(" desc")||(this.ordering+=" ASC")),this.app.loadAlpine((()=>{Alpine.store(t,this.useState(e))}))}useState(t={}){const e={form:this.form.useState(t)};return Object.getOwnPropertyNames(Object.getPrototypeOf(this)).map((t=>"function"==typeof this[t]?e[t]=this[t].bind(this):t)),Object.assign(e,t)}getElement(){return this.element}sendFilter(t=void 0,e=null){t&&t.preventDefault(),this.form.submit(null,null,e)}clearFilters(t,e){t.querySelectorAll("input, textarea, select").forEach((t=>{t.value=""})),this.form.submit(null,null,e)}toggleFilters(t,e){t?this.app.$ui.slideDown(e):this.app.$ui.slideUp(e)}sort(t){const e=this.getDirection(t),r=t.dataset.field;let n=t.dataset.asc,o=t.dataset.desc;return r&&(n=r+" ASC",o=r+" DESC"),"ASC"===e?this.sortBy(o):this.sortBy(n)}sortBy(t){if(!t)return!1;let e=this.element.querySelector("input[name=list_ordering]");return e||(e=this.$helper.h("input",{name:"list_ordering",type:"hidden",value:""}),this.element.appendChild(e)),e.value=t,this.form.put()}isSortActive(t){return null!=this.getDirection(t)}getDirection(t){const e=t.dataset.field;let r=t.dataset.asc,n=t.dataset.desc;return e&&(r=e+" ASC",n=e+" DESC"),this.orderingEquals(r,this.ordering)?"ASC":this.orderingEquals(n,this.ordering)?"DESC":null}orderingEquals(t,e){return e=e||"",(t=(t=t||"").replace(/\s+/g," ").trim().toLowerCase())===e.replace(/\s+/g," ").trim().toLowerCase()}checkRow(t,e=!0){const r=this.getCheckboxByRow(t);if(!r)throw new Error("Checkbox of row: "+t+" not found.");r.checked=e,r.dispatchEvent(new Event("input")),r.dispatchEvent(new Event("change"))}getCheckboxByRow(t){return this.form.element?.querySelector(`input[data-role=grid-checkbox][data-row-number="${t}"]`)}updateRow(t,e,r){const n=this.getCheckboxByRow(t);return!!n&&this.updateItem(n.value,e,r)}updateItem(t,e,r){return this.toggleAll(!1),this.disableAllCheckboxes(),this.form.injectInput("id[]",t),this.form.patch(e,r)}updateItemByTask(t,e,r,n){return(n=n||{}).task=t,this.updateItem(e,r,n)}updateRowByTask(t,e,r,n){const o=this.getCheckboxByRow(e);return!!o&&this.updateItemByTask(t,o.value,r,n)}doTask(t,e,r,n){return this.updateItemByTask(t,e,r,n)}updateByTask(t,e,r){return(r=r||{}).task=t,this.form.patch(e,r)}batch(t,e,r){return this.updateByTask(t,e,r)}copyItem(t,e,r){return this.toggleAll(!1),this.disableAllCheckboxes(),this.form.injectInput("id[]",t),this.form.post(e,r)}copyRow(t,e,r){const n=this.getCheckboxByRow(t);return!!n&&this.copyItem(n.value,e,r)}deleteList(t,e,r){return!!this.validateChecked()&&(!1!==(t=null==t?this.$lang.__("unicorn.message.delete.confirm"):t)?this.$helper.confirm(t).then((t=>{t&&this.form.delete(e,r)})):this.form.delete(e,r),!0)}async deleteRow(t,e,r,n){const o=this.getCheckboxByRow(t);return!!o&&this.deleteItem(o.value,e,r,n)}async deleteItem(t,e,r,n){return e=e||this.$lang.__("unicorn.message.delete.confirm"),this.$helper.confirm(e).then((e=>(e&&((n=n||{}).id=t,this.form.delete(r,n)),e)))}toggleAll(t){return this.$helper.selectAll(this.element.querySelectorAll("input[data-role=grid-checkbox][type=checkbox]")).map((e=>{e.checked=t,e.dispatchEvent(new CustomEvent("input")),e.dispatchEvent(new CustomEvent("change"))})),this}disableAllCheckboxes(){this.$helper.selectAll(this.element.querySelectorAll("input[data-role=grid-checkbox][type=checkbox]"),(t=>{t.disabled=!0}))}countChecked(){return this.getChecked().length}getChecked(){return this.$helper.selectAll(this.element.querySelectorAll("input[data-role=grid-checkbox][type=checkbox]:checked"))}getCheckedValues(){return this.getChecked().map((t=>t.value))}validateChecked(t,e,r){return r=r||this.$lang.__("unicorn.message.grid.checked"),this.hasChecked()?(e&&e(this),this):(""!==r&&this.app.alert(r),t&&(t.stopPropagation(),t.preventDefault()),this)}hasChecked(){return this.countChecked()>0}reorderAll(t,e){return this.batch("reorder",t,e)}moveItem(t,e,r,n){return(n=n||{}).delta=e,this.updateItemByTask("move",t,r,n)}moveUp(t,e,r){return this.moveItem(t,-1,e,r)}moveDown(t,e,r){return this.moveItem(t,1,e,r)}getId(t=""){return this.form.element?.id+t}}function Re(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map((function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t})).join("")}function Le(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function Ne(t,e,r){return e="+"===t||"#"===t?Re(e):Le(e),r?Le(r)+"="+e:e}function Ue(t){return null!=t}function Be(t){return";"===t||"&"===t||"?"===t}let qe=!1;const We={};class He{app;element;editor;options={};constructor(t,e,r){this.app=t,this.element=e,r.target=e,this.options=fe({},We,this.prepareOptions(r,tinymce.majorVersion),{unicorn:{stack_name:"uploading"}}),tinymce.EditorManager.init(this.options).then((t=>{this.editor=t[0]}))}get $http(){return this.app.inject("$http")}getEditor(){return this.editor}prepareOptions(t,e="6"){const r={};return t.images_upload_url&&(r.paste_data_images=!0,r.remove_script_host=!1,r.relative_urls=!1,Number(e)>=6?r.images_upload_handler=(t,e)=>this.imageUploadHandler(t,e):(t.plugins.push("paste"),r.images_upload_handler=(t,e,r,n)=>this.imageUploadHandler(t,n).then((t=>(e(t),t))).catch((t=>{throw r(t.message,{remove:!0}),t})))),r.plugins=r.plugins||[],r.setup=t=>{t.on("change",(()=>{tinymce.triggerSave()}))},-1===(t=fe({},t,r)).plugins.indexOf("unicorndragdrop")&&t.plugins.push("unicorndragdrop"),t}insert(t){this.editor?.insertContent(t)}getValue(){return this.editor?.getContent()??""}setValue(t){return this.editor?.setContent(t)??""}async imageUploadHandler(t,e){const r=this.element;r.dispatchEvent(new CustomEvent("upload-start"));const n=new FormData;n.append("file",t.blob(),t.filename());const o=this.app.inject("$stack").get(this.options.unicorn.stack_name);o.push(!0);try{let t=await this.$http.post(this.options.images_upload_url,n,{withCredentials:!1,onUploadProgress:t=>{e(t.loaded/t.total*100)}});return r.dispatchEvent(new CustomEvent("upload-success")),t.data.data.url}catch(t){if(t instanceof await this.app.inject("$http").errorClass()){const e=t?.response?.data?.message||t.message;return console.error(t?.response?.data?.message||t.message,t),r.dispatchEvent(new CustomEvent("upload-error",{detail:t})),Promise.reject({message:e,remove:!0})}throw t}finally{r.dispatchEvent(new CustomEvent("upload-complete")),o.pop()}}}function ze(){return tinymce.PluginManager.add("unicorndragdrop",(function(t){tinymce.DOM.bind(document,"dragleave",(function(t){return t.stopPropagation(),t.preventDefault(),tinymce.activeEditor&&(tinymce.activeEditor.contentAreaContainer.style.transition="all .3s",tinymce.activeEditor.contentAreaContainer.style.borderWidth=""),!1})),"undefined"!=typeof FormData&&(t.on("dragenter",(t=>(t.stopPropagation(),!1))),t.on("dragover",(t=>(t.preventDefault(),tinymce.activeEditor&&(tinymce.activeEditor.contentAreaContainer.style.transition="all .3s",tinymce.activeEditor.contentAreaContainer.style.border="3px dashed rgba(0, 0, 0, .35)"),!1))),t.on("drop",(e=>{t.contentAreaContainer.style.borderWidth="",t.contentAreaContainer.style.borderWidth=""})))})),Promise.resolve()}class Ve{maxRunning;items=[];currentRunning=0;running=!1;observers=[];constructor(t=1){this.maxRunning=t}push(t){const e=new Promise(((e,r)=>{this.items.push((()=>Promise.resolve(t()).then(e)))}));return this.run(),e}run(){this.running||(this.running=!0),this.pop()}async pop(){const t=this.items.shift();if(!t)return this.running=!1,Promise.resolve();if(this.currentRunning>=this.maxRunning)return this.items.unshift(t),Promise.resolve();this.currentRunning++,this.notice();try{return await t()}catch(t){throw t}finally{this.endPop()}}endPop(){this.currentRunning--,this.notice(),this.pop()}clear(){return this.items=[],this.notice(),this}isEmpty(){return 0===this.items.length}get length(){return this.items.length}peek(){return this.items}observe(t,e={}){return this.observers.push({handler:t,once:e.once||!1}),()=>{this.off(t)}}once(t,e={}){return e.once=!0,this.observe(t,e)}onEnd(t,e={}){return this.observe(((e,r,n)=>{0===r&&0===n&&t(e,r,n)}),e)}notice(){return this.observers.forEach((t=>{t.handler(this,this.length,this.currentRunning)})),this.observers=this.observers.filter((t=>!t.once)),this}off(t){return null==t?(this.observers=[],this):(this.observers=this.observers.filter((e=>e.handler!==t)),this)}}function Ge(t={}){return new ve(t)}function Ke(){const t=window.u;return delete window.u,t}const Qe=Ge();window.u=Qe,Qe.use(class{app;static install(t){const e=t.$loader=new this(t);t.import=e.import.bind(e),t.importSync=e.importSync.bind(e),t.importCSS=e.importCSS.bind(e),t.minFileName=e.minFileName.bind(e),t.afterImported=e.afterImported.bind(e)}constructor(t){this.app=t}doImport(t){return window.System.import(t)}import(...t){if(1===t.length)return this.doImport(t[0]);const e=[];return t.forEach((t=>{e.push(t instanceof Promise?t:this.doImport(t))})),Promise.all(e)}importSync(...t){let e,r=Promise.resolve();const n=[];for(;e=t.shift();){Array.isArray(e)||(e=[e]);const t=e;r=r.then((()=>this.import(...t).then((t=>(n.push(t),n)))))}return r}async importCSS(...t){let e=await this.import(...t);Array.isArray(e)||(e=[e]);const r=e.map((t=>t.default));document.adoptedStyleSheets=[...document.adoptedStyleSheets,...r]}minFileName(t){const e=t.split("."),r=e.pop();return this.app.inject("$helper").isDebug()?e.join(".")+".min."+r:t}asImported(t){$e[t]?$e[t]?.resolve?.():$e[t]={promise:Promise.resolve(),resolve:void 0}}afterImported(t,e){if(!$e[t]){let e;$e[t]={promise:new Promise((t=>{e=t}))},$e[t].resolve=e}return $e[t].promise.then(e),$e[t].promise}}),Qe.use(class{app;static get is(){return"helper"}static install(t,e={}){const r=t.$helper=new this(t);t.domready=r.domready.bind(r),t.selectOne=r.selectOne.bind(r),t.selectAll=r.selectAll.bind(r),t.each=r.selectAll.bind(r),t.getBoundedInstance=r.getBoundedInstance.bind(r),t.getBoundedInstanceList=r.getBoundedInstanceList.bind(r),t.module=r.module.bind(r),t.h=r.h,t.html=r.html,t.$get=r.get,t.$set=r.set,t.delegate=r.delegate.bind(r),t.debounce=r.debounce.bind(r),t.throttle=r.throttle.bind(r),t.isDebug=r.isDebug.bind(r),t.confirm=r.confirm.bind(r),t.alert=r.alert.bind(r),t.numberFormat=r.numberFormat,t.sprintf=r.sprintf,t.vsprintf=r.vsprintf,t.genRandomString=r.genRandomString,t.defaultsDeep=r.defaultsDeep}constructor(t){this.app=t}domready(t=void 0){let e=new Promise((t=>{"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,0):document.addEventListener("DOMContentLoaded",(()=>t()))}));return t&&(e=e.then(t)),e}selectOne(t){let e;return e="string"==typeof t?document.querySelector(t):t,e?me(e):e}selectAll(t,e=void 0){"string"==typeof t&&(t=document.querySelectorAll(t));const r=[].slice.call(t);return e?r.map((t=>e(t)||t)):r}each(t,e){return Ee(t,e)}getBoundedInstance(t,e,r=()=>null){const n=this.selectOne(t);return n?ye(n,e,r):null}getBoundedInstanceList(t,e,r=()=>null){return this.selectAll(t).map((t=>this.getBoundedInstance(t,e,r)))}module(t,e,r=()=>null){return"string"==typeof t?this.getBoundedInstanceList(t,e,r):t instanceof HTMLElement?this.getBoundedInstance(t,e,r):this.getBoundedInstanceList(t,e,r)}h(t,e={},r=void 0){const n=document.createElement(t);for(let t in e){const r=e[t];n.setAttribute(t,r)}return null!==r&&(n.innerHTML=r),n}html(t){const e=document.createElement("div");return e.innerHTML=t,e.children[0]}get(t,e){const r=Array.isArray(e)?e:e.split(".");let n=t;for(let t=0;t<r.length;t++){const e=r[t];if(!n||!n.hasOwnProperty(e)){n=void 0;break}n=n[e]}return n}set(t,e,r){const n=Array.isArray(e)?e:e.split(".");let o;for(o=0;o<n.length-1;o++){const e=n[o];t.hasOwnProperty(e)||(t[e]={}),t=t[e]}return t[n[o]]=r,r}delegate(t,e,r,n){if(void 0===e||""===e)throw new Error("The provided selector is empty.");if(void 0===n||"function"!=typeof n)throw new Error("Please specify an callback.");const o={},i=this.selectOne(t);return i?.addEventListener(r,(function(t){let e=t.target,r=!1;for(;e&&e!==i;){for(const n in o)e.matches(n)&&(t.stopPropagation=function(){r=!0},Object.defineProperty(t,"currentTarget",{get:()=>e}),o[n].forEach((function(e){e(t)})));if(r)break;e=e.parentElement}})),o[e]?o[e].push(n):o[e]=[n],function(){o[e]&&(o[e].length>=2?o[e]=o[e].filter((t=>t!==n)):delete o[e])}}debounce(t,e=1){let r,n;return function(...o){return clearTimeout(r),r=setTimeout((()=>n=t.call(this,...o)),e),n}}throttle(t,e=1){let r,n;return function(...o){return r?(clearTimeout(r),r=setTimeout((()=>r=void 0),e),n):n=t.call(this,...o)}}isDebug(){return Boolean(this.app.data("windwalker.debug"))}confirm(t){return t=t||"Are you sure?",new Promise((e=>{e(confirm(t))}))}alert(t,e="",r="info"){return e&&(t+=" | "+e),alert(t),Promise.resolve(!0)}nextTick(t=()=>{}){return Promise.resolve().then(t)}addUriBase(t,e="path"){return"//"===t.substr(0,2)||"http"===t.substr(0,4)?t:this.app.asset(e)+"/"+t}numberFormat(t,e=0,r=".",n=","){const o=(t=Number(t)).toFixed(e||0).toString().split("."),i=[];for(var s=o[0].length;s>0;s-=3)i.unshift(o[0].substring(Math.max(0,s-3),s));return o[0]=i.join(n||","),o.join(r||".")}genRandomString(t){let e="";for(let r=0;r<t;r++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}defaultsDeep(t,...e){return fe(t,...e)}sprintf(t,...e){return(0,Pe.sprintf)(t,...e)}vsprintf(t,e){return(0,Pe.vsprintf)(t,e)}}),Qe.use(class{app;static is="uri";asset={path:t=>"",root:t=>""};static install(t){const e=t.$uri=new this(t);e.asset.path=(e="")=>t.asset("path")+e,e.asset.root=(e="")=>t.asset("root")+e}constructor(t){this.app=t}path(t=""){return this.app.uri("path")+t}root(t=""){return this.app.uri("root")+t}current(){return this.app.uri("current")||""}full(){return this.app.uri("full")||""}route(){return this.app.uri("route")||""}script(){return this.app.uri("script")||""}}),Qe.use(class{app;static is="crypto";static install(t){const e=t.$crypto=new this(t);t.base64Encode=e.base64Encode.bind(e),t.base64Decode=e.base64Decode.bind(e),t.uuid4=e.uuid4.bind(e),t.uid=e.uid.bind(e),t.tid=e.tid.bind(e),t.md5=e.md5.bind(e),t.serial=e.serial.bind(e)}constructor(t){this.app=t}base64Encode(t){return btoa(String(t)).replace(/\+/,"-").replace(new RegExp("\\/"),"_").replace(/=+$/,"")}base64Decode(t){return atob(String(t).replace(/-/,"+").replace(/_/,"/"))}encrypt(t,e){const r=e.split("").map(((e,r)=>e.charCodeAt(0)^this.keyCharAt(t,r))).join(",");return this.base64Encode(r)}decrypt(t,e){return(e=this.base64Decode(e)).split(",").map(((e,r)=>String.fromCharCode(Number(e)^this.keyCharAt(t,r)))).join("")}keyCharAt(t,e){return t.charCodeAt(Math.floor(e%t.length))}uuid4(){return function t(e){return e?(Number(e)^16*Math.random()>>Number(e)/4).toString(16):(1e7.toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}uid(t="",e=!1){return e?t+(1e5*(performance?.timeOrigin?Math.round(performance.timeOrigin):performance.timing.navigationStart)+100*performance.now()).toString(12)+this.randomString(4):t+this.randomString(12)}tid(t=""){return this.uid(t,!0)}randomString(t=12){const e=window.crypto;if(!e)return String(Math.floor(Math.random()*t**10));const r=new Uint8Array(t);for(let n=0;n<t;n+=65536)e.getRandomValues(r.subarray(n,n+Math.min(t-n,65536)));return[...r].map((t=>t.toString(16).padStart(2,"0"))).join("")}md5(t){return Oe.hashStr(t)}serial(){return xe++}}),Qe.use(class{app;static get is(){return"lang"}static install(t){const e=t.$lang=new this(t);t.__=e.__.bind(e),t.trans=e.trans.bind(e)}constructor(t){this.app=t}__(t,...e){return this.trans(t,...e)}trans(t,...e){const r=this.normalize(t);let n=this.find(r)||"";return e.length&&(n=this.sprintf(n,...e)),""!==n?n:this.wrapDebug(t,!1)}sprintf(t,...e){return this.app.vsprintf(t,e)}find(t){const e=this.getStrings();return e[t]?e[t]:null}has(t){return void 0!==this.getStrings()[t]}add(t,e){const r=this.getStrings();return r[this.normalize(t)]=e,this.app.data("unicorn.languages",r),this}normalize(t){return t.replace(/[^A-Z0-9]+/gi,".")}wrapDebug(t,e){return this.app.isDebug()?e?"**"+t+"**":"??"+t+"??":t}getStrings(){return this.app.data("unicorn.languages")||{}}}),Qe.use(class{app;keys={};static get is(){return"router"}static install(t){const e=t.$router=new this(t);t.route=e.route.bind(e)}constructor(t){this.app=t}add(t,e){const r=this.app.data("unicorn.routes")||{};return r[t]=e,this.app.data("unicorn.routes",r),this}route(t,e){const r=t,n=this.extractRoute(r);t=n.route;let o=n.path;const i=this.app.data("unicorn.routes")||{};let s=i[t];if(null==s&&(t=t.startsWith("@")?t.substr(1):"@"+t),s=i[t],null==s)throw new Error(`Route: "${r}" not found`);if(o){const{route:t,path:e}=this.extractRoute(s,"?"),{route:r,path:n}=this.extractRoute(o,"?");if(s=t+"/"+r,e||n){const t=[e,n].filter((t=>t)).join("&");s+="?"+t}}return this.addQuery(s,e)}extractRoute(t,e="/"){if(-1===t.indexOf(e))return{route:t,path:""};const r=t.split(e);return{route:t=r.shift()||"",path:r.join(e)}}has(t){return void 0!==this.app.data("unicorn.routes")[t]}addQuery(t,e){if(null==e)return t;for(let r in e){const n=e[r],o=`{${r}}`;-1!==t.indexOf(o)&&(t=t.replace(new RegExp(`${o}`,"g"),n),delete e[r]);const i=encodeURIComponent(`{${r}}`);-1!==t.indexOf(i)&&(t=t.replace(new RegExp(`${i}`,"g"),n),delete e[r])}if(0===Object.keys(e).length)return t;const r=(0,De.stringify)(e);return t+(/\?/.test(t)?`&${r}`:`?${r}`)}parseQuery(t){return(0,De.parse)(t)}buildQuery(t){return(0,De.stringify)(t)}push(t){return"string"==typeof t&&(t={uri:t}),window.history.pushState(t.state||null,t.title||null,t.uri||this.route(t.route,t.params)),this}replace(t){return"string"==typeof t&&(t={uri:t}),window.history.replaceState(t.state||null,t.title||null,t.uri||this.route(t.route,t.params)),this}state(){return window.history.state}back(){window.history.back()}forward(){window.history.forward()}go(t){window.history.go(t)}}),Qe.use(class{app;globalAxios;axios;config={customMethod:!1};data={};static get is(){return"http"}static install(t){t.$http=new this(t)}constructor(t){this.app=t,this.data={}}get getSelf(){return this}importAxios(){return this.app.import("@axios")}async getGlobalAxios(){return this.globalAxios||(this.globalAxios=this.importAxios()),this.globalAxios}async createHttp(){return this.getGlobalAxios().then((()=>this.axios=axios.create(this.config.axios||{})))}async getHttp(){return this.axios?this.axios:this.createHttp().then((t=>this.prepareAxios(t))).then((t=>this.axios=t))}prepareAxios(t){return t.interceptors.request.use((t=>{if(t.headers["X-CSRF-Token"]=this.app.data("csrf-token"),t.url&&t.url.startsWith("@")&&(t.url=this.app.route(t.url)),t?.vars&&t.url){const n=(e=t.url,r=["+","#",".","/",";","?","&"],{expand:function(t){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,n,o){if(n){var i=null,s=[];if(-1!==r.indexOf(n.charAt(0))&&(i=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach((function(e){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);s.push.apply(s,function(t,e,r,n){var o=t[r],i=[];if(Ue(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),n&&"*"!==n&&(o=o.substring(0,parseInt(n,10))),i.push(Ne(e,o,Be(e)?r:null));else if("*"===n)Array.isArray(o)?o.filter(Ue).forEach((function(t){i.push(Ne(e,t,Be(e)?r:null))})):Object.keys(o).forEach((function(t){Ue(o[t])&&i.push(Ne(e,o[t],t))}));else{var s=[];Array.isArray(o)?o.filter(Ue).forEach((function(t){s.push(Ne(e,t))})):Object.keys(o).forEach((function(t){Ue(o[t])&&(s.push(Le(t)),s.push(Ne(e,o[t].toString())))})),Be(e)?i.push(Le(r)+"="+s.join(",")):0!==s.length&&i.push(s.join(","))}else";"===e?Ue(o)&&i.push(Le(r)):""!==o||"&"!==e&&"?"!==e?""===o&&i.push(""):i.push(Le(r)+"=");return i}(t,i,r[1],r[2]||r[3]))})),i&&"+"!==i){var a=",";return"?"===i?a="&":"#"!==i&&(a=i),(0!==s.length?i:"")+s.join(a)}return s.join(",")}return Re(o)}))}});t.url=n.expand(t.vars||{})}var e,r;return t})),t}requestMiddleware(t){return this.getHttp().then((e=>e.interceptors.request.use(t)))}responseMiddleware(t){return this.getHttp().then((e=>e.interceptors.response.use(t)))}get(t,e={}){return e.url=t,e.method="GET",this.request(e)}post(t,e,r={}){return r.url=t,r.method="POST",r.data=e,this.request(r)}put(t,e,r={}){return r.url=t,r.method="PUT",r.data=e,this.request(r)}patch(t,e,r={}){return r.url=t,r.method="PATCH",r.data=e,this.request(r)}delete(t,e,r={}){return r.url=t,r.method="DELETE",r.data=e,this.request(r)}head(t,e={}){return e.url=t,e.method="HEAD",this.request(e)}options(t,e={}){return e.url=t,e.method="OPTIONS",this.request(e)}isCancel(t){return axios.isCancel(t)}async request(t){try{let e=await this.getHttp();return await e(t)}catch(t){t.originMessage=t.message;const e=t;throw e.response?.data?.message&&(e.message=e.response.data.message),e}}customMethod(t=!0){const e=this;return e.axios=void 0,e.requestMiddleware((e=>(t?e.headers["X-HTTP-Method-Override"]=e:"object"==typeof e.data?e.data._method=e.method:"string"==typeof e.data&&(e.data.includes("?")?e.data+="&_method="+e.method:e.data+="?_method="+e.method),e.method="POST",e))).then((()=>e))}async errorClass(){return(await this.globalAxios).AxiosError}}),Qe.use(class{directives={};instances={};listenTarget=document.body;disconnectCallback;hooks={mounted:{before:(t,e)=>{e[ke]=e[ke]||{},e[ke][t]=this.observeChildren(e),this.instances[t]=this.instances[t]||[],this.instances[t].push(e)}},unmounted:{after:(t,e)=>{e[ke]&&e[ke][t]&&(e[ke][t](),delete e[ke][t])}}};static get is(){return"directive"}static install(t,e={}){const r=t.$directive=new this;t.directive=r.register.bind(r),r.listen()}register(t,e){this.disconnectCallback||this.listen();const r=this.getDirectiveAttrName(t);this.directives[r]=e,[].forEach.call(this.listenTarget.querySelectorAll("["+r+"]"),(t=>{this.runDirectiveIfExists(r,t,"mounted")}))}remove(t){const e=this.getDirectiveAttrName(t);this.instances[e]&&(this.instances[e].forEach((t=>{this.runDirectiveIfExists(e,t,"unmounted")})),delete this.instances[e]),delete this.directives[e]}getDirectiveAttrName(t){return`uni-${t}`}observeRoot(t){const e=new MutationObserver((t=>{t.forEach((t=>{[].forEach.call(t.addedNodes,(e=>{this.findDirectivesFromNode(e).forEach((r=>{this.runDirectiveIfExists(r,e,"mounted",t)}));for(const r in this.directives)"querySelectorAll"in e&&e.querySelectorAll(`[${r}]`).forEach((e=>{this.runDirectiveIfExists(r,e,"mounted",t)}))})),[].forEach.call(t.removedNodes,(e=>{this.findDirectivesFromNode(e).forEach((r=>{this.runDirectiveIfExists(r,e,"unmounted",t)}))})),"attributes"===t.type&&null==t.oldValue&&this.runDirectiveIfExists(t.attributeName,t.target,"mounted",t)}))}));return e.observe(t,{attributes:!0,attributeOldValue:!0,childList:!0,characterData:!1,subtree:!0}),()=>{e.disconnect()}}observeChildren(t){const e=new MutationObserver((t=>{t.forEach((t=>{"attributes"!==t.type||t.target.getAttribute(t.attributeName)||this.runDirectiveIfExists(t.attributeName,t.target,"unmounted",t),this.findDirectivesFromNode(t.target).forEach((e=>{"attributes"!==t.type&&"childList"!==t.type||this.runDirectiveIfExists(e,t.target,"updated",t)}))}))}));return e.observe(t,{attributes:!0,childList:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:Se(this.directives)}),()=>{e.disconnect()}}listenTo(t){this.listenTarget=t}listen(){return this.disconnectCallback=this.observeRoot(this.listenTarget)}disconnect(){this.disconnectCallback&&(this.disconnectCallback(),this.disconnectCallback=void 0)}getDirective(t){return this.directives[t]}runDirectiveIfExists(t,e,r,n=void 0){const o=this.getDirective(t);o&&r in o&&(this.hooks?.[r]?.before&&this.hooks[r]?.before?.(t,e),o[r]?.(e,{directive:t,node:e,value:e.getAttribute(t),oldValue:n?.oldValue,mutation:n,dir:o}),this.hooks?.[r]?.after&&this.hooks[r]?.after?.(t,e))}findDirectivesFromNode(t){const e=[];return t.getAttributeNames?(t.getAttributeNames().forEach((t=>{t.startsWith("uni-")&&e.push(t)})),e):[]}}),Qe.use(class{app;static install(t){const e=t.$animate=new this(t);t.animate=e.to.bind(e)}constructor(t){this.app=t}to(t,e,r={}){t=this.app.selectOne(t);const n=window.getComputedStyle(t),o={};Ee(e,((t,e)=>{o[e]=Array.isArray(t)?t:[n.getPropertyValue(e),t]})),"number"==typeof r&&(r={duration:r}),r=fe(r,{duration:400,easing:"linear",fill:"both"});const i=t.animate(o,r);return i.addEventListener("finish",(()=>{Ee(e,((e,r)=>{t.style.setProperty(r,Array.isArray(e)?e[e.length-1]:e)})),i.cancel()})),i}getCurrentStyle(t,e){return window.getComputedStyle(t)[e]}}),Qe.use(class{app;theme;aliveHandle;static get is(){return"ui"}static install(t){const e=t.$ui=new this(t);t.addMessage=e.renderMessage.bind(e),t.clearMessages=e.clearMessages.bind(e),t.notify=e.notify.bind(e),t.clearNotifies=e.clearNotifies.bind(e),t.loadAlpine=e.loadAlpine.bind(e),t.initAlpine=e.initAlpine.bind(e),t.beforeAlpineInit=e.prepareAlpine.bind(e),t.prepareAlpine=e.prepareAlpine.bind(e),t.webComponentPolyfill=e.webComponentPolyfill.bind(e),t.defineCustomElement=e.defineCustomElement.bind(e)}static get defaultOptions(){return{messageSelector:".message-wrap"}}installTheme(t){this.theme=t}get $loader(){return this.app.inject("$loader")}get $helper(){return this.app.inject("$helper")}get $animate(){return this.app.inject("$animate")}constructor(t){this.app=t}async loadAlpine(t){t&&this.prepareAlpine(t);let e=await this.$loader.import("@alpinejs");return Alpine.version.startsWith("2.")?(await this.app.$alpine2.loadSpruce(),Alpine.store=Spruce.store.bind(Spruce),t&&t(),await this.app.$alpine2.startAlpine(),e):e}async initAlpine(t){await this.app.loadAlpine(),this.$helper.selectAll(`[${t}]`,(e=>{const r=e.getAttribute(t)||"";e.removeAttribute(t),Alpine.mutateDom((()=>{e.setAttribute("x-data",r)})),Alpine.initTree(e)}))}prepareAlpine(t){window.Alpine?t():document.addEventListener("alpine:init",t)}renderMessage(t,e="info"){this.theme.renderMessage(t,e)}clearMessages(){this.theme.clearMessages()}notify(t,e="info"){this.theme.renderMessage(t,e)}clearNotifies(){this.theme.clearMessages()}async webComponentPolyfill(){return new Promise((t=>{this.$loader.import("@vendor/@webcomponents/webcomponentsjs/webcomponents-loader.js").then((e=>{!0===WebComponents?.ready?t(e):window.addEventListener("WebComponentsReady",(function(){t(e)}))}))}))}async defineCustomElement(t,e,r){const n=await this.$loader.import("@vendor/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js");return customElements.define(t,e,r),n}mark(t,e="",r={}){return this.$loader.import("@vendor/mark.js/dist/mark.min.js").catch((t=>{console.error('Package "mark.js" not found.',t)})).then((n=>(null!=t&&new Mark(t).mark(e,r),n)))}tomSelect(t,e={},r="bootstrap5"){return this.$loader.import(this.$loader.minFileName("@vendor/tom-select/dist/js/tom-select.complete.js"),this.$loader.importCSS(this.$loader.minFileName(`@vendor/tom-select/dist/css/tom-select.${r}.css`))).then((r=>(t&&this.$helper.module(t,"tom.select",(t=>{e=fe(e,{allowEmptyOption:!0,maxOptions:null,plugins:{caret_position:{},clear_button:{}}}),t.multiple?e.plugins.remove_button={}:e.plugins.dropdown_input={};class r extends TomSelect{syncOptionsWithoutKeepSelected(){const e=t.value;this.clear(),this.clearOptions(),this.sync(),t.value!==e&&this.setValue(t.querySelector(`option[value="${e}"]`)?.value??t.querySelector("option")?.value??"",!0)}}const n=new r(t,e);return t.addEventListener("list:updated",(()=>{n.syncOptionsWithoutKeepSelected()})),n})),r)))}choices(t,e={}){return this.$loader.import("@vendor/choices.js/public/assets/scripts/choices.min.js",this.$loader.importCSS("@vendor/choices.js/public/assets/styles/choices.min.css")).catch((t=>{console.error('Package "choices.js" not found.',t)})).then((t=>t[0])).then((r=>(t&&(e=fe(e,{shouldSort:!1,removeItemButton:!0,renderSelectedChoices:"always"}),new Choices(t,e)),r)))}flatpickr(){return this.$loader.import("@unicorn/ui/flatpickr-components.js")}async listDependent(t,e,r={}){const n=await this.$loader.import("@unicorn/ui/list-dependent.js");return t&&n.ListDependent.handle(t,e,r),n}cascadeSelect(){return this.$loader.import("@unicorn/field/cascade-select.js")}sid(){return this.$loader.import("@unicorn/field/single-image-drag.js")}fileDrag(){return this.$loader.import("@unicorn/field/file-drag.js")}iframeModal(){return this.$loader.import("@unicorn/ui/iframe-modal.js")}modalField(){return this.$loader.import("@unicorn/field/modal-field.js")}multiUploader(){return this.$loader.import("@unicorn/field/multi-uploader.js")}repeatable(){return this.$loader.import("@unicorn/field/repeatable.js")}modalTree(){return this.$loader.import("@unicorn/field/modal-tree.js")}async s3Uploader(t){const e=await this.$loader.import("@unicorn/aws/s3-uploader.js");return e.init(this.app),t?e.get(t):null}async slideUp(t,e=300){const r=this.app.selectOne(t);if(!r)return Promise.resolve();r.style.overflow="hidden";const n=this.$animate.to(r,{height:0,paddingTop:0,paddingBottom:0},{duration:e,easing:"ease-out"}),o=await n.finished;return r.style.display="none",o}slideDown(t,e=300,r="block"){const n=this.app.selectOne(t);if(!n)return Promise.resolve();n.style.display=r;let o=0;for(const t of Array.from(n.children))o=Math.max(t.offsetHeight,o);const i=this.$animate.to(n,{height:[0,o+"px"]},{duration:e,easing:"ease-out"});return i.addEventListener("finish",(()=>{n.style.height="",n.style.overflow="visible"})),i.finished}slideToggle(t,e=500,r="block"){const n=this.app.selectOne(t);return n?"none"===window.getComputedStyle(n).display?this.slideDown(n,e,r):this.slideUp(n,e):Promise.resolve()}async fadeOut(t,e=500){const r=this.app.selectOne(t);if(!r)return;const n=this.$animate.to(r,{opacity:0},{duration:e,easing:"ease-out"}),o=await n.finished;return r.style.display="none",o}async fadeIn(t,e=500,r="block"){const n=this.app.selectOne(t);if(n)return n.style.display="",window.getComputedStyle(n).display!==r&&(n.style.display=r),this.$animate.to(n,{opacity:1},{duration:e,easing:"ease-out"}).finished}async highlight(t,e="#ffff99",r=600){const n=this.app.selectOne(t);if(!n)return;r/=2;const o=window.getComputedStyle(n).backgroundColor,i=this.app.animate(n,{backgroundColor:e},{duration:r});return await i.finished,this.app.animate(n,{backgroundColor:o},{duration:r})}async colorPicker(t,e={}){"dark"===e?.theme?this.$loader.importCSS("@spectrum/spectrum-dark.min.css"):e?.theme||this.$loader.importCSS("@spectrum/spectrum.min.css");const r=await this.$loader.import("@spectrum");if("string"==typeof e.locale){let t=e.locale.split("-").map((t=>t.toLowerCase()));t[0]===t[1]&&(t=[t]),t=t.join("-");try{await this.$loader.import(`@spectrum/i18n/${t}.js`)}catch(r){console.warn(`Unable to load Spectrum locale "${t}" (${e.locale})`)}}return t&&this.$helper.module(t,"spectrum",(t=>Spectrum.getInstance(t,e))),r}disableOnSubmit(t="#admin-form",e="",r={}){e=e||["#admin-toolbar button","#admin-toolbar a",t+" .disable-on-submit",t+" .js-dos",t+" [data-dos]"].join(",");const n=r.iconSelector||['[class*="fa-"]',"[data-spin]","[data-spinner]"].join(","),o=r.event||"submit",i=r.spinnerClass||"spinner-border spinner-border-sm";this.$helper.selectAll(e,(t=>{t.addEventListener("click",(e=>{t.dataset.clicked="1",setTimeout((()=>{delete t.dataset.clicked}),1500)}))}));const s=this.$helper.selectOne(t);s?.addEventListener(o,(t=>{console.log(t.submitter),setTimeout((()=>{s.checkValidity()&&this.$helper.selectAll(e,(t=>{if(t.style.pointerEvents="none",t.setAttribute("disabled","disabled"),t.classList.add("disabled"),t.dataset.clicked){let e=t.querySelector(n);if(e){const t=this.$helper.html("<i></i>");e.parentNode.replaceChild(t,e),t.setAttribute("class",i)}}}))}),0)}))}disableIfStackNotEmpty(t="[data-task=save]",e="uploading"){this.app.inject("$stack").get(e).observe(((e,r)=>{for(const e of this.$helper.selectAll(t))r>0?(e.setAttribute("disabled","disabled"),e.classList.add("disabled")):(e.removeAttribute("disabled"),e.classList.remove("disabled"))}))}async checkboxesMultiSelect(t,e={}){const r=await this.$loader.import("@unicorn/ui/checkboxes-multi-select.js");return t&&r.CheckboxesMultiSelect.handle(t,e),r}keepAlive(t,e=6e4){const r=window.setInterval((()=>fetch(t)),e);return()=>{clearInterval(r)}}initShowOn(){return this.$loader.import("@unicorn/ui/show-on.js")}async vueComponentField(t,e,r={}){const n=await this.$loader.import("@unicorn/field/vue-component-field.js");return t&&n.VueComponentField.init(t,e,r),n}}),Qe.use(class{app;static install(t){window.deferLoadingAlpine=()=>{},t.$alpine2=new this(t)}constructor(t){this.app=t}import(...t){return this.app.inject("$loader").import(...t)}ie11(){return this.import("@vendor/alpinejs/dist/alpine-ie11.js")}loadAlpine(){return this.import("@alpinejs")}loadSpruce(){return Promise.all([this.loadAlpine(),this.import("@spruce")])}async initAlpine(t){await this.loadAlpine();const e=this.app.selectOne(t);Alpine.initializeComponent(e)}async startAlpine(){await this.loadAlpine(),Spruce&&Spruce.start(),Alpine.start()}async startAlpineSpruce(){await this.loadSpruce(),Alpine.start()}async initAlpineSpruce(t){await this.loadSpruce();const e=this.app.selectOne(t);Alpine.initializeComponent(e)}}),Qe.use(class{app;static get is(){return"form"}static install(t,e={}){const r=new this(t);t.form=r.get.bind(r)}constructor(t){this.app=t}get(t,e={}){if(null==t)return new Ie(this.app,void 0,void 0,e);const r="string"==typeof t?t:void 0,n=this.app.inject("$helper").selectOne(t);if(!n)throw new Error(`Form element of: ${r} not found.`);return ye(n,"form.plugin",(()=>new Ie(this.app,r,n,e)))}}),Qe.use(class{app;static get is(){return"grid"}static install(t,e={}){const r=new this(t);t.grid=r.get.bind(r)}constructor(t){this.app=t}get(t,e={}){const r="string"==typeof t?t:"",n=this.app.inject("$helper").selectOne(t);if(!n)throw new Error("Element is empty");return ye(n,"grid.plugin",(()=>new Fe(this.app,r,n,e)))}}),Qe.use(class{app;static install(t){const e=t.$validation=new this(t);t.formValidation=async(t="[uni-form-validation]")=>(await e.import(),e.get(t))}constructor(t){this.app=t}async import(){const t=await this.$loader.import("@unicorn/ui/validation-components.js");return window.UnicornValidation.initValidations(this.app),t}get $loader(){return this.app.inject("$loader")}get $helper(){return this.app.inject("$helper")}get(t){return this.$helper.getBoundedInstance(t,"form.validation")}getField(t){return this.$helper.getBoundedInstance(t,"field.validation")}async addGlobalValidator(t,e,r={}){let n=await this.import();return n.UnicornFormValidation.addGlobalValidator(t,e,r),n}}),Qe.use(class{app;ui;instances={};hooks=[];static install(t){t.$ui.tinymce=new this(t,t.$ui)}constructor(t,e){this.app=t,this.ui=e}async loadTinymce(){let t=await this.app.import("@tinymce");if(qe)return t;qe=!0;for(const e of this.hooks)e(t);return await ze(),await t}configure(t){return this.hooks.push(t),this}async init(t,e={}){return await this.loadTinymce(),this.instances[t]=this.create(document.querySelector(t),e)}get(t){return this.instances[t]}create(t,e={}){return new He(this.app,t,e)}}),Qe.use(class{app;stacks={};static is="stack";static install(t){const e=t.$stack=new this(t);t.stack=e.get.bind(e)}constructor(t){this.app=t}create(t,e=[]){if(null==t)throw new Error("Please provide a name.");return new Te(t,e)}get(t,e=[]){return this.stacks[t]||(this.stacks[t]=this.create(t,e)),this.stacks[t]}set(t,e){return this.stacks[t]=e,this}remove(t){return delete this.stacks[t],this}all(){return this.stacks}}),Qe.use(class{app;queues={};static is="queue";static install(t){const e=t.$queue=new this(t);t.queue=e.get.bind(e)}constructor(t){this.app=t}create(t=1){return new Ve(t)}get(t,e=1){if(null==t)throw new Error("Please provide a name.");return this.queues[t]||(this.queues[t]=this.create(e)),this.queues[t]}set(t,e){return this.queues[t]=e,this}remove(t){return delete this.queues[t],this}all(){return this.queues}}),Qe.selectOne("[uni-cloak]")?.removeAttribute("uni-cloak");const Je=Qe})(),n})()));
//# sourceMappingURL=main.js.map